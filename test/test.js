!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.test=a.test||{})}(this,function(exports){"use strict";var _defineProperty=function(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a},_objectWithoutProperties=function(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c},_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},_toConsumableArray=function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)},_slicedToArray=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),pipe=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(a){return b.reduce(function(a,b){return b(a)},a)}},map=function(a){return function(b){return b.map(a)}},reduce$1=function(a){return function(b){return function(c){return c.reduce(a,b)}}},find=function(a){return reduce$1(function(b,c){return void 0==b?a(c)?c:void 0:b})(void 0)},mergeDeep=function a(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=function(a){return a&&"object"==typeof a&&!isArray(a)};return c.reduce(function(b,c){return Object.keys(c).forEach(function(d){var f=b[d],g=c[d];e(f)&&e(g)?b[d]=a(f,g):b[d]=g}),b},{})},join=function(a){return function(b){return b.join(a)}},toPairs=function(a){return Object.entries(a)},fromPairs=function(a){return Object.fromEntries(a)},_filter=function(a){return function(b){return b.filter(a)}},contains$1=function(a){return function(b){return b.includes(a)}},_pick=function(a){return function(b){return pipe(toPairs,_filter(function(b){var c=_slicedToArray(b,1),d=c[0];return contains$1(d)(a)}),fromPairs)(b)}},sortBy=function(a){return function(b){return b.sort(function(b,c){var d=a(b),e=a(c);return d<e?-1:d>e?1:0})}},last=function(a){return a[a.length-1]},constant=function(a){return function(b){return a}},combinations=function(a){return function(b){return unnest(map(function(a){return map(function(b){return[a,b]})(b)})(a))}},unnest=reduce$1(function(a,b){return[].concat(_toConsumableArray(a),_toConsumableArray(b))})([]),splice=function(a,b,c){for(var d=arguments.length,e=Array(d>3?d-3:0),f=3;f<d;f++)e[f-3]=arguments[f];var g=a.slice(0);return g.splice.apply(g,[b,c].concat(e)),g},prop=function(a){return function(b){return b[a]}},reverse=function(a){return a.slice(0).reverse()},omit=function(a){return function(b){var c=_extends({},b);return a.forEach(function(a){return delete c[a]}),c}},path=function(a){return function(b){return reduce$1(function(a,b){return a&&a[b]})(b)(a)}},all$1=function(a){return function(b){return b.every(a)}},flatten=reduce$1(function(a,b){return[].concat(_toConsumableArray(a),_toConsumableArray(Array.isArray(b)?flatten(b):[b]))})([]),groupBy=function(a){return reduce$1(function(b,c){var d=a(c);return void 0==b[d]?_extends({},b,_defineProperty({},d,[c])):_extends({},b,_defineProperty({},d,[].concat(_toConsumableArray(b[d]),[c])))})({})},identity=function(a){return a},values=function(a){return Object.values(a)},any=function(a){return function(b){return b.some(a)}},take=function(a){return function(b){return b.slice(0,a)}},append=function(a){return function(b){return[].concat(_toConsumableArray(b),[a])}},prepend=function(a){return function(b){return[a].concat(_toConsumableArray(b))}},first=function(a){return a[0]},isUndefined=function(a){return void 0==a},isString=function(a){return"string"==typeof a},isNumber=function(a){return"number"==typeof a},isFunction=function(a){return"function"==typeof a},isArray=function(a){return Array.isArray(a)},isObject=function(a){return"object"==typeof a&&!isArray(a)},arity=function(a){return isFunction(a)?a.length<1?1:a.length>2?2:a.length:0},isBinaryFunction=function(a){return 2===arity(a)},isUnaryFunction=function(a){return 1===arity(a)},isValue=function(a){return 0===arity(a)},types=function(a){return void 0==a?[void 0]:isArray(a)?["A"]:isString(a)?["S"]:isNumber(a)?["N"]:isObject(a)?["O"]:isFunction(a)?a.types||[contains$1(a.length)([0,1])?["?","?"]:["?","?","?"]]:void 0},supportsUndefined=function(a){return isFunction(a)&&a.supportsUndefined},applyOver=function a(b){var c=b.path,d=b.fn,e=b.container,f=c[0];if(isNumber(f)){var g=f<0?e.length+f:f;return g<0||g>e.length-1?(console.warn("Attempt to apply function at array index out of bounds: "+JSON.stringify({key:f,container:e})),e):[].concat(_toConsumableArray(e.slice(0,g)),[1===c.length?d(e[g]):a({path:c.slice(1),fn:d,container:e[g]})],_toConsumableArray(e.slice(g+1)))}return _extends({},e,_defineProperty({},f,1===c.length?d(e[f]):a({path:c.slice(1),fn:d,container:e[f]||{}})))},lookup=function lookup(symbol){switch(symbol){case"+":return plus;case".":return dot;case"[":return leftSquareBracket;case"#":return hash;case"<":return lessThan;case"/":return slash;case"-":return minus}return eval(symbol)},execute=function a(b){if(0!==b.length){if(1===b.length){var c=b[0];if(Array.isArray(c))return a(c);if(" "===c)return[];if(!isNaN(+c))return+c;if("string"==typeof c)return c.startsWith('"')&&c.endsWith('"')?c.slice(1,-1):lookup(c)}return pipe(reduce$1(function(b,c){var d=b.sections,e=b.append;return" "===c?{sections:d,append:!0}:e?{sections:[].concat(_toConsumableArray(d),[a([c])]),append:!1}:{sections:[].concat(_toConsumableArray(d.slice(0,-1)),[apply(d[d.length-1],a([c]))]),append:!1}})({sections:[],append:!0}),function(a){var b=a.sections;return a.append||b.length>1?b:b[0]})(b)}},replaceType=function a(b){var c=b.from,d=b.to;return function(b){return Array.isArray(b)?b.map(a({from:c,to:d})):b===c?d:b}},getSymbolMap=function(a,b){return"XYZW".includes(a)?[[a,b]]:[]},getTypeMap=function a(b,c){return Array.isArray(b)?b.map(function(b,d){return a(b,c[d])}).flat():[].concat(_toConsumableArray(getSymbolMap(b,c)))},reduceType=function(a){var b=a.type,c=a.typeMap;return reduce$1(function(a,b){var c=_slicedToArray(b,2),d=c[0],e=c[1];return Array.isArray(a)?a.map(replaceType({from:d,to:e})):replaceType({from:d,to:e})(a)})(b)(c)},getReducedType=function(a){var b=a.remainderType,c=a.typeMap,d=reduceType({type:b,typeMap:c}),e=Array.isArray(d)?flatten(d):[d],f=pipe(groupBy(identity),values,_filter(function(a){return 1===a.length&&"XYZW".includes(a[0])}),map(function(a){return[_slicedToArray(a,1)[0],"?"]}))(e);return reduceType({type:d,typeMap:f})},getReducedUnaryType=function(a){var b=a.leftType,c=a.rightType;return getReducedType({remainderType:b[1],typeMap:getTypeMap(b[0],c)})},getReducedLeftAppliedType=function(a){var b=a.leftType,c=a.rightType;return getReducedType({remainderType:c.slice(1),typeMap:getTypeMap(c[0],b)})},getReducedRightAppliedType=function(a){var b=a.leftType,c=a.rightType;return getReducedType({remainderType:splice(b,1,1),typeMap:getTypeMap(b[1],c)})},matchSymbol=function(a,b){return a===b||"XYZW".includes(a)||"XYZW".includes(b)||any(function(a){var b=_slicedToArray(a,2),c=b[0],d=b[1];return["V","?"].includes(c)&&!Array.isArray(d)})([[a,b],[b,a]])},matchType=function a(b,c){return matchSymbol(b,c)||Array.isArray(b)&&Array.isArray(c)&&b.length===c.length&&b.map(function(b,d){return a(b,c[d])}).reduce(function(a,b){return a&&b},!0)&&pipe(map(function(b){var c=_slicedToArray(b,2),d=c[0],e=c[1];return all$1(function(b){var c=d.reduce(function(a,c,d){return b===c?[].concat(_toConsumableArray(a),[d]):a},[]);return!c.length||all$1(function(b){return a(e[b],e[c[0]])})(c)})(["X","Y","Z","W"])}),reduce$1(function(a,b){return a&&b})(!0))([[b,c],[c,b]])},apply=function(a,b){if((void 0!=a||supportsUndefined(b))&&(void 0!=b||supportsUndefined(a))){var c=combinations(types(a))(types(b)),d=_filter(function(a){var b=_slicedToArray(a,2),c=b[0],d=b[1];return Array.isArray(d)&&3==d.length&&matchType(c,d[0])})(c);if(d.length){var e=leftApply(a,b);return isFunction(e)&&(e.types=map(function(a){var b=_slicedToArray(a,2),c=b[0],d=b[1];return getReducedLeftAppliedType({leftType:c,rightType:d})})(d),b.supportsUndefined&&(e.supportsUndefined=!0)),e}var f=_filter(function(a){var b=_slicedToArray(a,2),c=b[0],d=b[1];return Array.isArray(c)&&3==c.length&&matchType(c[1],d)})(c);if(f.length){var g=rightApply(a,b);return isFunction(g)&&(g.types=map(function(a){var b=_slicedToArray(a,2),c=b[0],d=b[1];return getReducedRightAppliedType({leftType:c,rightType:d})})(f),a.supportsUndefined&&(g.supportsUndefined=!0)),g}var h=_filter(function(a){var b=_slicedToArray(a,2),c=b[0],d=b[1];return Array.isArray(c)&&2==c.length&&matchType(c[0],d)})(c);if(h.length){var i=a(b);return isFunction(i)&&(i.types=map(function(a){var b=_slicedToArray(a,2),c=b[0],d=b[1];return getReducedUnaryType({leftType:c,rightType:d})})(h)),i}throw"Unable to resolve dynamic function application: "+JSON.stringify({left:a,right:b})}},typeOf=function(a){if(void 0!=a){if(isArray(a))return"A";if(isString(a))return"S";if(isNumber(a))return"N";if(isObject(a))return"O";if(isFunction(a))return arity(a);throw"Unknown type of value: "+a}},argumentMatch=function(a){var b=a.arg,c=a.type;if("?"===c)return!0;if("A"===c)return isArray(b);if("S"===c)return isString(b);if("N"===c)return isNumber(b);if("O"===c)return isObject(b);if(isArray(c))return isFunction(b);throw"Unknown type: "+c},typeMatch=function(a){var b=_slicedToArray(a,2),c=b[0],d=b[1];return function(a){var b=a.type;return!(d&&b.length<3)&&(argumentMatch({arg:c,type:b[0]})&&(!d||argumentMatch({arg:d,type:b[1]})))}},isValid=function(a){return void 0!=a||void 0},toEncodedString=function(a){return isString(a)?'"'+a+'"':toString(a)},toString=function a(b){if(void 0==b)return"()";if(isNumber(b))return""+b;if(isString(b))return b;if(isArray(b))return"("+pipe(map(function(a){return toEncodedString(a)}),join(" "))(b)+(b.length<2?" ":"")+")";if(isObject(b))return"(\\"+a(Object.entries(b,!0))+")";throw"Unable to stringify value: "+b},applyToInternal=function(a,b){return isFunction(a)?function(c){return b(a(c))}:isFunction(b)?b(a):map(function(b){return b(a)})(b)},transpose=function(a){var b,c=[],d=a.length,e=Math.min.apply(Math,map(function(a){return a.length})(a));for(b=0;b<e;b++)c.push([]);for(b=0;b<d;b++)for(var f=0;f<e;f++)c[f].push(a[b][f]);return c},chunk=function(a){var b=a.sizes,c=a.vector,d=a.newVector,e=a.append;return pipe(reduce$1(function(a,c){var d=last(a).length,f=a.length-1,g=b[f%b.length]||1/0;return d<g-1?[].concat(_toConsumableArray(a.slice(0,-1)),[e(a[f],c)]):d===g-1?[].concat(_toConsumableArray(a.slice(0,-1)),[e(a[f],c),[]]):[].concat(_toConsumableArray(a),[[c]])})([d]),function(a){return last(a).length?a:a.slice(0,-1)})(c)},chunkWhen=function(a){var b=a.when,c=a.vector,d=a.newVector,e=a.append;return pipe(reduce$1(function(a,c){var d=last(a);return d.length<1||!b(last(d),c)?[].concat(_toConsumableArray(a.slice(0,-1)),[e(d,c)]):[].concat(_toConsumableArray(a),[[c]])})([d]),function(a){return last(a).length?a:a.slice(0,-1)})(c)},leftApply=function(a,b){return function(c){return b(a,c)}},rightApply=function(a,b){return function(c){return a(c,b)}},_applyTo=function(a){return function(b){return 2===b.length||b.types&&3===b.types[0].length?leftApply(a,b):b(a)}},whileInternal=function(a){for(var b=a.fns,c=a.startingArray,d=[].concat(_toConsumableArray(c));void 0!=b[0](d);)d.push(b[1](d));return d},dot=function a(b,c){if(!isUndefined(b)&&!isUndefined(c)){var d=combinations(types(b))(types(c));if(isArray(c)){var e=_filter(function(a){var b=_slicedToArray(a,2),c=b[0];return"A"===b[1]&&2===c.length})(d);if(isUnaryFunction(b)&&e.length){var f=function(d){return map(function(c){return a(b(d),c)})(c)};return f.types=map(function(a){return[_slicedToArray(a,1)[0][0],"A"]})(e),f}var g=_filter(function(a){var b=_slicedToArray(a,2),c=b[0];return"A"===b[1]&&3===c.length})(d);if(isBinaryFunction(b)&&g.length){var h=function(d,e){return map(function(c){return a(b(d,e),c)})(c)};return h.types=map(function(a){var b=_slicedToArray(a,1),c=b[0];return[].concat(_toConsumableArray(c.slice(0,2)),["A"])})(g),h}var i=_filter(function(a){var b=_slicedToArray(a,2),c=b[0];return"A"===b[1]&&!Array.isArray(c)})(d);if(isValue(b)&&i.length)return map(function(c){return a(b,c)})(c)}else{var j=_filter(function(a){var b=_slicedToArray(a,2),c=b[0],d=b[1];return 3===c.length&&2===d.length&&matchType(c[2],d[0])})(d);if(isBinaryFunction(b)&&isUnaryFunction(c)&&j.length){var k=function(a,d){return c(b(a,d))};return k.types=map(function(a){var b=_slicedToArray(a,2),c=b[0],d=b[1];return[].concat(_toConsumableArray(c.slice(0,2)),[d[1]])})(j),k}var l=_filter(function(a){var b=_slicedToArray(a,2),c=b[0],d=b[1];return!Array.isArray(c)&&3===d.length&&matchType(c,d[0])})(d);if(isValue(b)&&isBinaryFunction(c)&&l.length){var m=function(a){return leftApply(b,c)(a)};return m.types=map(function(a){var b=_slicedToArray(a,2);b[0];return b[1].slice(1)})(l),m}var n=_filter(function(a){var b=_slicedToArray(a,2),c=b[0],d=b[1];return 2===c.length&&3===d.length&&matchType(c[1],d[0])})(d);if(isUnaryFunction(b)&&isBinaryFunction(c)&&n.length){var o=function(a){return leftApply(b(a),c)};return o.types=map(function(a){var b=_slicedToArray(a,2),c=b[0],d=b[1];return[c[0],d.slice(1)]})(n),o}var p=_filter(function(a){var b=_slicedToArray(a,2),c=b[0],d=b[1];return 2===d.length&&matchType(d[0],c)})(d);if(isUnaryFunction(c)&&p.length){var q=c(b);return isFunction(q)&&(q.types=pipe(map(function(a){var b=_slicedToArray(a,2);b[0];return b[1][1]}),_filter(Array.isArray))(p)),q}var r=_filter(function(a){var b=_slicedToArray(a,2),c=b[0],d=b[1];return 2===c.length&&2===d.length&&matchType(c[1],d[0])})(d);if(isUnaryFunction(b)&&isUnaryFunction(c)&&r.length){var s=function(a){return c(b(a))};return s.types=map(function(a){var b=_slicedToArray(a,2),c=b[0],d=b[1];return[c[0],d[1]]})(r),s}}throw"Unable to resolve application of operator . with arguments: "+JSON.stringify({left:b,right:c})}};dot.types=[[["X","Y"],["Y","Z"],["X","Z"]],[["X","Y","Z"],["Z","W"],["X","Y","W"]],["X",["X","Y"],"Y"],["X",["X","Y","Z"],["Y","Z"]],["V","A","A"],[["X","?"],"A",["X","A"]],[["X","Y","?"],"A",["X","Y","?"]],[["X","Y"],["Y","Z","W"],["X",["Z","W"]]]];var comma=function a(b,c){if(!isUndefined(b)&&!isUndefined(c)){if(isUnaryFunction(b)&&isArray(c)){var d=function(d){return a(b(d),c)};return d.types=combinations(map(first)(types(b)))(["A"]),d}if(isBinaryFunction(b)&&isArray(c)){var e=function(d,e){return a(b(d,e),c)};return e.types=map(pipe(take(2),append("A")))(types(b)),e}if(isArray(b)&&isArray(c))return pipe(transpose,map(function(a){var b=_slicedToArray(a,2),c=b[0],d=b[1];return dot(c,d)}))([b,c]);throw"Unable to resolve application of operator , with arguments: "+JSON.stringify({left:b,right:c})}};comma.types=[["A","A","A"],[["X","?"],"A",["X","A"]],[["X","Y","?"],"A",["X","Y","A"]]];var plus=function(a,b){return"string"==typeof a?""+a+toString(b):Array.isArray(a)?[].concat(_toConsumableArray(a),_toConsumableArray(b)):isObject(a)?mergeDeep(a,b):a+b};plus.types=[["N","N","N"],["S","?","S"],["A","A","A"],["O","O","O"]];var slash=function(a,b){if(0!==b)return a/b};slash.types=[["N","N","N"]];var less=function(a,b){return isFunction(a)&&isArray(b)?sortBy(a)(b):a<b?a:void 0};less.types=[["N","N","N"],["S","S","S"],[["?","?"],"A","A"]];var greater=function(a,b){return isFunction(a)&&isArray(b)?pipe(sortBy(a),reverse)(b):a>b?a:void 0};greater.types=[["N","N","N"],["S","S","S"],[["?","?"],"A","A"]];var minus=function(a,b){if(isString(a)&&isObject(b)){b[a];return _objectWithoutProperties(b,[a])}return isArray(a)&&isObject(b)?omit(a)(b):a-b};minus.types=[["N","N","N"],["S","O","O"],["A","O","O"]];var colon=function(a,b){return[a,b]};colon.types=[["?","?","A"]];var question=function(a,b){if(isFunction(a))return a(b)?[b,void 0]:[void 0,b];if(isArray(a)){for(var c=Array.from(Array(a.length+1)),d=0;d<a.length;++d){if(void 0!=a[d](b)){c[d]=b;break}}return d===a.length&&(c[d]=b),c}if(isString(a)&&isString(b)||isNumber(a)&&isArray(b)){var e=b.indexOf(a);return-1===e?void 0:e}throw"Unable to resolve application of operator ? with arguments: "+JSON.stringify({left:a,right:b})};question.types=[[["X","?"],"X","X"],["A","X","X"],["S","S","S"],["X","A","X"]];var atsign=function(a,b){return b.map(a)};atsign.types=[[["V","V"],"A","A"],[["V","N","V"],"A","A"]];var asterisk=function(a,b){return Array.isArray(a)?_pick(a)(b):a*b};asterisk.types=[["N","N","N"],["A","O","O"]];var dollar=function(a,b){if(isArray(b)){if(isFunction(a))return b.slice(1).reduce(function(b,c){return a(b,c)},b[0]);if(isString(a))return pipe(map(toString),join(a))(b)}if(isArray(a))return reduce$1(a[0])(a[1])(b);throw"Unable to resolve application of operator $ with arguments: "+JSON.stringify({left:a,right:b})};dollar.types=[[["V","V","V"],"A","?"],[[["X","Y"],"X","Y"],"A","?"],["S","A","S"],["A","A","?"]];var apostrophe=function(a,b){if(isNumber(a)&&(isArray(b)||isString(b)))return a>=0?b[a]:b[b.length+a];if(isFunction(a)&&isArray(b))return _filter(a)(b);if(isString(a)&&isObject(b))return b[a];if(isArray(a)&&(isArray(b)||isObject(b)))return 2===a.length&&isArray(a[0])&&isUnaryFunction(a[1])?applyOver({path:a[0],fn:a[1],container:b}):path(a)(b);throw"Unable to resolve application of operator ' with arguments: "+JSON.stringify({left:a,right:b})};apostrophe.types=[["N","A","?"],["N","S","S"],[["?","V"],"A","A"],["S","O","?"],["A","A","?"],["A","O","?"],["A","O","O"],["A","A","A"]];var equal=function(a,b){return toString(a)===toString(b)?a:void 0};equal.types=[["V","V","V"]];var bar=function(a,b){if(void 0==a||void 0==b)return void 0==a?b:a;if(isUnaryFunction(a)&&isUnaryFunction(b)){var c=function(c){var d=a(c);return void 0==d?b(c):d};return c.types=types(a),c}if(isBinaryFunction(a)&&isBinaryFunction(b)){var d=function(c,d){var e=a(c,d);return void 0==e?b(c,d):e};return d.types=types(a),d}return a};bar.types=[["V","V","V"],[["?","?"],["?","?"],["?","?"]],[["?","?","?"],["?","?","?"],["?","?","?"]]],bar.supportsUndefined=!0;var percent=function(a,b){if(isNumber(a)&&isNumber(b))return a%b;if(isNumber(a)&&(isArray(b)||isString(b)))return[b.slice(0,a),b.slice(a)];if(isUnaryFunction(a)&&isArray(b))return reduce$1(function(b,c){var d=toString(a(c));return void 0==b[d]?_extends({},b,_defineProperty({},d,[c])):_extends({},b,_defineProperty({},d,[].concat(_toConsumableArray(b[d]),[c])))})({})(b);if(isArray(a)&&isArray(b))return chunk({sizes:a,vector:b,newVector:[],append:function(a,b){return[].concat(_toConsumableArray(a),[b])}});if(isArray(a)&&isString(b))return chunk({sizes:a,vector:b.split(""),newVector:"",append:function(a,b){return""+a+b}});if(isBinaryFunction(a)&&isArray(b))return chunkWhen({when:a,vector:b,newVector:[],append:function(a,b){return[].concat(_toConsumableArray(a),[b])}});if(isFunction(a)&&isString(b))return chunkWhen({when:a,vector:b.split(""),newVector:"",append:function(a,b){return""+a+b}});throw"Unable to resolve application of operator % with arguments: "+JSON.stringify({left:a,right:b})};percent.types=[["N","N","N"],["N","A","A"],["N","S","A"],[["V","S"],"A","O"],["A","A","A"],["A","S","A"],[["V","V","V"],"A","A"],[["S","S","S"],"S","A"]];var hat=function(a,b){if(isNumber(a)&&isNumber(b))return Math.pow(a,b);if(isFunction(a)&&isNumber(b))return map(function(b,c){return a(c)})(Array.from(Array(b)));if(isArray(a)&&isArray(b))return whileInternal({fns:a,startingArray:b});throw"Unable to resolve application of operator ^ with arguments: "+JSON.stringify({left:a,right:b})};hat.types=[["N","N","N"],[["N","?"],"N","A"],["A","A","A"]];var ampersand=function(a,b){if(isUnaryFunction(a)&&isUnaryFunction(b)){var c=function(c){return a(c)&&b(c)};return c.types=types(a),c}return a&&b};ampersand.types=[["V","V","V"],[["?","?"],["?","?"],["?","?"]]];var tilde=function(a){if(isNumber(a))return-a;if(isArray(a))return transpose(a);if(isBinaryFunction(a)){var b=function(b,c){return a(c,b)};return b.types=map(function(a){var b=_slicedToArray(a,3),c=b[0];return[b[1],c,b[2]]})(types(a)),b}throw"Unable to resolve application of operator ~ with arguments: "+JSON.stringify({left:left,right:right})};tilde.types=[["N","N"],["A","A"],[["X","Y","?"],["Y","X","?"]]];var underscore=function(a){return isArray(a)?a.slice(0).reverse():a.split("").reverse().join("")};underscore.types=[["A","A"],["S","S"]];var bracketleft=function(a){return a[0]};bracketleft.types=[["A","?"],["S","S"]];var bracketright=function(a){return a[a.length-1]};bracketright.types=[["A","?"],["S","S"]];var hash=function(a){return a.length};hash.types=[["A","N"],["S","N"]];var backslash=function(a){return Array.isArray(a)?Object.fromEntries(a):Object.entries(a)};backslash.types=[["A","O"],["O","A"]];var backtick=function(a){var b=function(b){return a};return b.types=map(prepend("?"))(types(a)),b};backtick.types=[["V",["?","V"]]];var braceleft=function braceleft(string){return eval(string)};braceleft.types=[["S","?"]];var semicolon=function(a){return a};semicolon.types=[["X","X"]];var braceright=function(a){return typeOf(a)};braceright.types=[["?","S"],[["?","?"],"S"],[["?","?","?"],"S"]];var bang=function(a){if(isBinaryFunction(a)){var b=function(b,c){return void 0==a(b,c)?b:void 0};return b.types=a.types,b}if(isUnaryFunction(a)){var c=function(b){return void 0==a(b)?b:void 0};return c.types=a.types,c}return void 0==a?[]:void 0};bang.types=[["V","V"],[["X","Y","Z"],["X","Y","Z"]],[["X","Y"],["X","Y"]]],bang.supportsUndefined=!0;var ts={arity:arity,types:types,apply:apply,leftApply:leftApply,rightApply:rightApply,execute:execute,plus:plus,tilde:tilde,underscore:underscore,bracketleft:bracketleft,bracketright:bracketright,slash:slash,hash:hash,less:less,dot:dot,minus:minus,colon:colon,backslash:backslash,question:question,atsign:atsign,asterisk:asterisk,dollar:dollar,backtick:backtick,braceleft:braceleft,apostrophe:apostrophe,semicolon:semicolon,comma:comma,equal:equal,bar:bar,percent:percent,braceright:braceright,hat:hat,ampersand:ampersand,greater:greater,bang:bang,resolve:function(a){return function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=find(typeMatch(c))(a);if(!e)throw"Unable to resolve dynamic function application: "+{solutions:a,args:c};return e.def.apply(void 0,c)}},typeOf:typeOf,first:function(a){return isValid(a)&&a[0]},last:function(a){return isValid(a)&&a[a.length-1]},negative:function(a){return isValid(a)&&-a},reverseArray:function(a){return isValid(a)&&a.slice(0).reverse()},reverseString:function(a){return isValid(a)&&a.split("").reverse().join("")},split:function(a,b){return isValid(a)&&isValid(b)&&[b.slice(0,a),b.slice(a)]},at:function(a,b){return isValid(a)&&isValid(b)?a>=0?b[a]:b[b.length+a]:void 0},pipe:function(a,b){return isValid(a)&&isValid(b)&&function(c){return b(a(c))}},pipeBinary:function(a,b){return isValid(a)&&isValid(b)&&function(c,d){return b(a(c,d))}},applyTo:function(a,b){return isValid(a)&&isValid(b)&&_applyTo(a)(b)},applyToArray:function(a,b){return isValid(a)&&isValid(b)&&map(_applyTo(a))(b)},times:function(a,b){return isValid(a)&&isValid(b)&&a*b},length:function(a){return isValid(a)&&a.length},identity:function(a){return a},insert:function(a,b){return isValid(a)&&isValid(b)&&b.slice(1).reduce(function(b,c){return a(b,c)},b[0])},fromPairs:function(a){return isValid(a)&&Object.fromEntries(a)},toPairs:function(a){return isValid(a)&&Object.entries(a)},merge:function(a,b){return isValid(a)&&isValid(b)&&mergeDeep(a,b)},omitKey:function(a,b){return isValid(a)&&isValid(b)&&function(){b[a];return _objectWithoutProperties(b,[a])}()},indexOf:function(a,b){return isValid(a)&&isValid(b)&&function(){var c=b.indexOf(a);return-1===c?void 0:c}()},map:function(a,b){return isValid(a)&&isValid(b)&&b.map(a)},or:function(a,b){return a||b},orString:function(a,b){return isValid(a)?a:b},concatString:function(a,b){return isValid(a)&&isValid(b)&&""+a+toString(b)},divideBy:function(a,b){return isValid(a)&&isValid(b)&&a/b},pick:function(a,b){return isValid(a)&&isValid(b)&&_pick(a)(b)},greaterThan:function(a,b){return isValid(a)&&isValid(b)&&(a>b?a:void 0)},if:function(a,b){return isValid(a)&&isValid(b)&&(a(b)?[b,void 0]:[void 0,b])},zipApplyTo:function(a,b){return isValid(a)&&isValid(b)&&pipe(transpose,map(function(a){var b=_slicedToArray(a,2),c=b[0],d=b[1];return isValid(c)&&isValid(d)&&applyToInternal(c,d)}))([a,b])},constant:function(a){return function(b){return isValid(b)&&a}},prop:function(a,b){return isValid(a)&&isValid(b)&&b[a]},eval:function _eval(string){return isValid(string)&&eval(string)},concatArray:function(a,b){return isValid(a)&&isValid(b)&&[].concat(_toConsumableArray(a),_toConsumableArray(b))},groupBy:function(a,b){return isValid(a)&&isValid(b)&&reduce$1(function(b,c){var d=toString(a(c));return void 0==b[d]?_extends({},b,_defineProperty({},d,[c])):_extends({},b,_defineProperty({},d,[].concat(_toConsumableArray(b[d]),[c])))})({})(b)},ascendingSort:function(a,b){return isValid(a)&&isValid(b)&&sortBy(a)(b)},filter:function(a,b){return isValid(a)&&isValid(b)&&_filter(a)(b)},modulo:function(a,b){return isValid(a)&&isValid(b)&&a%b},chunkArray:function(a,b){return isValid(a)&&isValid(b)&&chunk({sizes:a,vector:b,newVector:[],append:function(a,b){return[].concat(_toConsumableArray(a),[b])}})},chunkString:function(a,b){return isValid(a)&&isValid(b)&&chunk({sizes:a,vector:b.split(""),newVector:"",append:function(a,b){return""+a+b}})},chunkArrayWhen:function(a,b){return isValid(a)&&isValid(b)&&chunkWhen({when:a,vector:b,newVector:[],append:function(a,b){return[].concat(_toConsumableArray(a),[b])}})},chunkStringWhen:function(a,b){return isValid(a)&&isValid(b)&&chunkWhen({when:a,vector:b.split(""),newVector:"",append:function(a,b){return""+a+b}})},power:function(a,b){return isValid(a)&&isValid(b)&&Math.pow(a,b)},generate:function(a,b){return isValid(a)&&isValid(b)&&map(function(b,c){return a(c)})(Array.from(Array(b)))},while:function(a,b){return isValid(a)&&isValid(b)&&whileInternal({fns:a,startingArray:b})},andPredicate:function(a,b){return function(c){return isValid(a)&&isValid(b)&&a(c)&&b(c)}},pair:function(a,b){return[a,b]}},_chai=chai,expect=_chai.expect;mocha.setup("bdd");var all=function(a){return function(b){return b.every(a)}},contains=function(a){return function(b){return b.includes(a)}},keys=Object.keys,reduce=function(a){return function(b){return function(c){return c.reduce(a,b)}}},isUnique=function(a){var b=reduce(function(a,b){return _defineProperty({acc:a},b,!0)})({})(a);return keys(b).length===a.length};describe("Multiline Strings",function(){it('"some words\\n and some others on a new line" a comment about this eql "some words\\n and some others on a new line"',function(){return expect("some words\n and some others on a new line").eql("some words\n and some others on a new line")})}),describe("Parsing",function(){var a=ts.apply(ts.apply(2,ts.asterisk),Math.sqrt(ts.apply(ts.apply(ts.asterisk,ts.dollar),[2,2,4]))),b=ts.apply(ts.apply(Math.sqrt(9),ts.asterisk),2),c=ts.apply(ts.apply(3,ts.plus),5),d=ts.apply(ts.apply(4,ts.asterisk),3),e=ts.apply(ts.apply(2,ts.plus),4),f=[2,3,4];it("2+4 eql 6",function(){return expect(e).eql(6)}),it("/*ts 3+5*/ eql 8",function(){return expect(c).eql(8)}),it("/*ts 4*3*/; // this is a comment eql 12",function(){return expect(d).eql(12)}),it("(2\\n\\t3\\n\\t4\\n) and some comments here eql [2, 3, 4]",function(){return expect(f).eql([2,3,4])}),it('/*ts {"Math.sqrt(9)"*2*/ eql 6',function(){return expect(b).eql(6)}),it('/*ts 2*({"Math.sqrt(/*ts *$(2 2 4)*/)")*/ eql 8',function(){return expect(a).eql(8)})}),describe("Operators",function(){describe(".",function(){describe("pipe 20",function(){var a=ts.dot,b=ts.apply(ts.bracketleft,a),c=ts.apply(a,ts.apply(ts.slash,2)),d=ts.apply(ts.apply(ts.bracketleft,a),ts.apply(ts.slash,2)),e=ts.apply(ts.apply(ts.hash,ts.dot),ts.apply(ts.less,3));it("[.(value => value * 2)([3, 4, 5]) eql 6",function(){return expect(b(function(a){return 2*a})([3,4,5])).eql(6)}),it(".(/2)(array => array[0])([10, 8, 9]) eql 5",function(){return expect(c(function(a){return a[0]})([10,8,9])).eql(5)}),it("[./2([4, 5, 7]) eql 4",function(){return expect(d([4,5,7])).eql(2)}),it("#.<3([4, 5]) eql 2",function(){return expect(e([4,5])).eql(2)})}),describe("applyTo 34",function(){var a=ts.dot,b=ts.apply(2,ts.dot),c=ts.apply("hello",ts.dot),d=ts.apply([1,2,3],ts.dot),e=ts.apply(ts.apply(2,ts.dot),ts.apply(3,ts.plus)),f=ts.apply(ts.apply("hello",ts.dot),ts.hash),g=ts.apply(ts.apply([1,2,3],ts.dot),ts.bracketleft),h=ts.apply(ts.apply(2,ts.dot),ts.apply(ts.plus,3)),i=ts.apply(ts.apply(2,a),ts.apply(ts.plus,3)),j=ts.apply(ts.apply(5,ts.dot),ts.minus),k=ts.apply(ts.apply(7,ts.dot),[ts.apply(ts.plus,2),ts.minus]);it("2.(x => 3 + x) eql 5",function(){return expect(b(function(a){return 3+a})).eql(5)}),it('"hello".(x => x.length) eql 6',function(){return expect(c(function(a){return a.length})).eql(5)}),it("(1 2 3).(x => x[0]) eql 6",function(){return expect(d(function(a){return a[0]})).eql(1)}),it("2.(3+) eql 5",function(){return expect(e).eql(5)}),it('"hello".# eql 5',function(){return expect(f).eql(5)}),it("(1 2 3).[ eql 1]",function(){return expect(g).eql(1)}),it("2.+3 eql 5",function(){return expect(h).eql(5)}),it("2applyTo(+3) eql 5",function(){return expect(i).eql(5)}),it("(5.-)(2) eql 3",function(){return expect(j(2)).eql(3)}),it("7.(+2 -)[0] eql 9",function(){return expect(k[0]).eql(9)}),it("7.(+2 -)[1](3) eql 4",function(){return expect(k[1](3)).eql(4)})}),describe("applyToArray",function(){var a=(ts.dot,ts.apply(6,ts.dot)),b=ts.apply("hello",ts.dot),c=ts.apply(ts.dot,[ts.hash,ts.bracketright]),d=ts.apply(ts.apply([5,6],ts.dot),[ts.hash,ts.bracketleft]);it("6.([x => x + 3, x => x * 3]) eql [5, 6]",function(){return expect(a([function(a){return a+3},function(a){return 3*a}])).eql([9,18])}),it('"hello".([x => x.length, x => x[0]]) eql [5, "h"]',function(){return expect(b([function(a){return a.length},function(a){return a[0]}])).eql([5,"h"])}),it(".(# ])([7, 8, 9]) eql [3, 9]",function(){return expect(c([7,8,9])).eql([3,9])}),it("(5 6).(# [) eql [2, 5]",function(){return expect([d,ts.typeOf(d)]).eql([[2,5],"A"])})}),describe("binaryPipe (XYZ ZW XYW)",function(){var a=ts.apply(ts.apply(ts.colon,ts.dot),ts.apply(ts.plus,ts.dollar)),b=ts.apply(ts.apply(2,a),3);it("2(:.+$)3 eql 5",function(){return expect(b).eql(5)}),it(":.+$(2, 3) eql 5",function(){return expect(a(2,3)).eql(5)})})}),describe("~",function(){describe("negative 1",function(){var a=ts.tilde;it("~(4) eql -4",function(){return expect(a(4)).eql(-4)}),it("~(-4) eql 4",function(){return expect(a(-4)).eql(4)}),it("~5 eql 5",function(){return expect(-5).eql(-5)})}),describe("transpose AA",function(){var a=ts.apply(ts.tilde,[[1,2,3],[4,5,6],[7,8,9]]),b=ts.apply(ts.tilde,[[1,2,3],[4,5],[6,7,8]]);it("~((1 2 3) (4 5 6) (7 8 9)) eql [[1, 4, 7], [2, 5, 8], [3, 6, 9]]",function(){return expect(a).eql([[1,4,7],[2,5,8],[3,6,9]])}),it("~((1 2 3) (4 5) (6 7 8)) eql [[1, 4, 6], [2, 5, 7]]",function(){return expect(b).eql([[1,4,6],[2,5,7]])})}),describe("flip 22",function(){var a=ts.apply(ts.tilde,ts.minus),b=ts.apply(ts.apply(ts.apply(ts.apply(ts.colon,ts.dot),ts.apply(ts.minus,ts.dollar)),ts.dot),ts.tilde),c=ts.apply(ts.apply(2,b),6),d=ts.apply(ts.tilde,Math.pow);it("~-(2, 7) eql 5",function(){return expect(a(2,7)).eql(5)}),it("2((:.-$).~)6 eql 4",function(){return expect(c).eql(4)}),it("(:.-$).~(9, 6) eql -3",function(){return expect(b(9,6)).eql(-3)}),it('~({"Math.pow")(2, 3) eql 9',function(){return expect(d(2,3)).eql(9)})})}),describe("-",function(){var a=ts.underscore;describe("reverseArray 3",function(){var b=ts.apply(ts.underscore,[7,8,9]);it("_([3, 4, 5]) eql [5, 4, 3]",function(){return expect(a([3,4,5])).eql([5,4,3])}),it("_(7 8 9) eql [9, 8, 7]",function(){return expect(b).eql([9,8,7])})}),describe("reverseString SS",function(){var b=ts.apply(ts.underscore,"Howdy!");it('reverse("Hello!") eql "!olleH"',function(){return expect(a("Hello!")).eql("!olleH")}),it('_"Howdy!" eql "!ydwoH"',function(){return expect(b).eql("!ydwoH")})})}),describe(":",function(){describe("pair (? ? A)",function(){var a=ts.apply(ts.apply(4,ts.colon),"hello");it('4:"hello" eql [4, "hello"]',function(){return expect(a).eql([4,"hello"])})})}),describe("\\",function(){describe("fromPairs (A O) 8",function(){var a=ts.apply(ts.backslash,[["a",1],["b",2]]),b=ts.apply(ts.backslash,[]),c=ts.apply(ts.backslash,[["a",1],["b",ts.apply(ts.backslash,[["ba",2]])]]);it('\\(("a" 1) ("b" 2)) eql {a: 1, b: 2} type O',function(){return expect([a,ts.typeOf(a)]).eql([{a:1,b:2},"O"])}),it("\\( ) eql {} type O",function(){return expect([b,ts.typeOf(b)]).eql([{},"O"])}),it('\\(("a" 1) ("b" (("ba" 2) ))) eql {a: 1, b: {ba: 2}} type O',function(){return expect([c,ts.typeOf(c)]).eql([{a:1,b:{ba:2}},"O"])})}),describe("toPairs (O A) 8",function(){var a=ts.apply(ts.backslash,ts.apply(ts.backslash,[["a",1],["b",2]])),b=ts.apply(ts.backslash,ts.apply(ts.backslash,[])),c=ts.apply(ts.backslash,ts.apply(ts.backslash,[["a",1],["b",ts.apply(ts.backslash,[["ba",2]])]]));it('\\(\\(("a" 1) ("b" 2))) eql [["a", 1], ["b", 2]] type A',function(){return expect([a,ts.typeOf(a)]).eql([[["a",1],["b",2]],"A"])}),it("\\(\\( )) eql [] type A",function(){return expect([b,ts.typeOf(b)]).eql([[],"A"])}),it('\\(\\(("a" 1) ("b" (("ba" 2) )))) eql [["a", 1], ["b", {ba: 2}]] type A',function(){return expect([c,ts.typeOf(c)]).eql([[["a",1],["b",{ba:2}]],"A"])})})}),describe("?",function(){describe("indexOfString (S S N) 5",function(){var a=ts.apply(ts.apply("ell",ts.question),"hello"),b=ts.apply(ts.apply("bye",ts.question),"hello");it('"ell"?"hello" eql 1',function(){return expect(a).eql(1)}),it('"bye"?"hello" eql undefined',function(){return expect(b).eql(void 0)})}),describe("indexOfNumber (N A N) 2",function(){var a=ts.apply(ts.apply(2,ts.question),[1,5,3,7,2,4]),b=ts.apply(ts.apply(2,ts.question),[1,5,7,3]);it("2?(1 5 3 7 2 4) eql 4",function(){return expect(a).eql(4)}),it("2?(1 5 7 3) eql undefined",function(){return expect(b).eql(void 0)})}),describe("if (X? X N) 6",function(){var a=ts.apply(ts.apply(ts.apply(ts.less,3),ts.question),2),b=ts.apply(ts.apply(ts.apply(ts.less,3),ts.question),4);it("<3?2 eql [2, undefined]",function(){return expect(a).eql([2,void 0])}),it("<3?4 eql [undefined, 4]",function(){return expect(b).eql([void 0,4])})}),describe("cond",function(){var a=ts.apply([ts.apply(ts.less,10),ts.apply(ts.less,20)],ts.question),b=ts.apply(a,12);it("(<10 <20)?(5) eql [5, undefined, undefined]",function(){return expect(a(5)).eql([5,void 0,void 0])}),it("(<10 <20)?(15) eql [undefined, 15, undefined]",function(){return expect(a(15)).eql([void 0,15,void 0])}),it("(<10 <20)?(25) eql [undefined, undefined, 25]",function(){return expect(a(25)).eql([void 0,void 0,25])}),it("(<10 <20)?12 eql [undefined, 12, undefined]",function(){return expect(b).eql([void 0,12,void 0])})})}),describe("@",function(){describe("map (?? A A) 17",function(){var a=ts.apply(ts.apply(ts.apply(ts.asterisk,2),ts.atsign),[3,4,5]);it("*2@(3 4 5) eql [6, 8, 10]",function(){return expect(a).eql([6,8,10])})}),describe("mapIndexed (?NX A X)",function(){var a=ts.apply(ts.apply(ts.apply(ts.apply(ts.colon,ts.dot),ts.apply(ts.plus,ts.dollar)),ts.atsign),[4,5,6]);it("(:.+$)@(4 5 6) = [4, 6, 8]",function(){return expect(a).eql([4,6,8])})})}),describe("*",function(){describe("times (0 0 0)",function(){var a=ts.apply(ts.asterisk,6);it("*6(4) eql 24",function(){return expect(a(4)).eql(24)})}),describe("pick (A O O) 3",function(){var a=ts.apply(ts.apply(["a","c","d"],ts.asterisk),ts.apply(ts.backslash,[["a",1],["b",2],["c",3]]));it('("a" "c" "d")*((("a" 1) ("b" 2) ("c" 3))) eql {a: 1, c: 3}',function(){return expect(a).eql({a:1,c:3})})})}),describe("+",function(){describe("plus (N N N) 1",function(){var a=ts.apply(ts.plus,3);it("+3(4) eql 7",function(){return expect(a(4)).eql(7)})}),describe("arrayConcat (A A A) |||",function(){var a=ts.apply(ts.apply([1,2,3],ts.plus),["hello",[4,5]]),b=ts.apply(ts.apply(void 0,ts.plus),[1,2,3]),c=ts.apply(ts.apply([1,2,3],ts.plus),void 0);it('(1 2 3)+("hello" (4 5)) eql [1, 2, 3, "hello", [4, 5]]',function(){return expect(a).eql([1,2,3,"hello",[4,5]])}),it("(1 2 3)+() eql undefined",function(){return expect(b).eql(void 0)}),it("()+(1 2 3) eql undefined",function(){return expect(c).eql(void 0)})}),describe("merge (O O O) 3",function(){var a=ts.apply(ts.apply(ts.apply(ts.backslash,[["a",1],["b",ts.apply(ts.backslash,[["b1",2],["b3",[1,2]]])],["c",3]]),ts.plus),ts.apply(ts.backslash,[["b",ts.apply(ts.backslash,[["b2",2.5],["b3",[4]]])],["c",ts.apply(ts.backslash,[["c1",3.5]])]]));it('\\(("a" 1) ("b" \\(("b1" 2) ("b3" (1 2)))) ("c" 3))+(\\(("b" \\(("b2" 2.5) ("b3" (4 )))) ("c" \\(("c1" 3.5) )))) eql {a: 1, b: {b1: 2, b3: [4], b2: 2.5}, c: {c1: 3.5}}',function(){return expect(a).eql({a:1,b:{b1:2,b3:[4],b2:2.5},c:{c1:3.5}})})}),describe("stringConcat (S ? S) 3",function(){var a=ts.apply(ts.apply("me",ts.plus),void 0),b=ts.apply(ts.apply("me",ts.plus),1),c=ts.apply(ts.apply("me",ts.plus),"hello"),d=ts.apply(ts.apply("me",ts.plus),[1,2,3]),e=ts.apply(ts.apply("",ts.plus),[9]),f=ts.apply(ts.apply("me",ts.plus),[]),g=ts.apply(ts.apply("me",ts.plus),ts.apply(ts.backslash,[["a",1]])),h=ts.apply(ts.apply("",ts.plus),ts.apply(ts.backslash,[["a",[1,"hello"]]]));it('"me"+() eql undefined',function(){return expect(a).eql(void 0)}),it('"me"+1 eql "me1"',function(){return expect(b).eql("me1")}),it('"me"+"hello" eql "mehello"',function(){return expect(c).eql("mehello")}),it('"me"+(1 2 3) eql "me(1 2 3)"',function(){return expect(d).eql("me(1 2 3)")}),it('""+(9 ) eql "(9 )"',function(){return expect(e).eql("(9 )")}),it('"me"+( ) eql "me( )"',function(){return expect(f).eql("me( )")}),it('"me"+(\\(("a" 1) )) eql "me(\\(("a" 1) ))"',function(){return expect(g).eql('me(\\(("a" 1) ))')}),it('""+(\\(("a" (1 "hello")) )) eql "(\\(("a" (1 "hello")) ))"',function(){return expect(h).eql('(\\(("a" (1 "hello")) ))')})})}),describe("$",function(){describe("join (S A S) 4",function(){var a=ts.apply(ts.apply(",",ts.dollar),[1,2,3]);it('","$(1 2 3) eql "1,2,3"',function(){return expect(a).eql("1,2,3")})}),describe("insert (??Y A Y) 7",function(){var a=(ts.dollar,ts.apply(ts.asterisk,ts.dollar)),b=ts.apply(ts.apply(ts.asterisk,ts.dollar),[4]),c=ts.apply(ts.dollar,[]),d=ts.apply(ts.apply(ts.asterisk,ts.dollar),void 0),e=ts.apply(ts.apply(ts.asterisk,ts.dollar),[5,6,7]);it("*$([4, 5, 6]) eql 120",function(){return expect(a([4,5,6])).eql(120)}),it("*$(4 ) eql 4",function(){return expect(b).eql(4)}),it("$( )((x, y) => x + y) eql undefined",function(){return expect(c(function(a,b){return a+b})).eql(void 0)}),it("*$() eql undefined",function(){return expect(d).eql(void 0)}),it("*$(5 6 7) eql [210, N]",function(){return expect([e,ts.typeOf(e)]).eql([210,"N"])})}),describe("reduce (A A ?) 1",function(){var a=ts.apply([ts.plus,0],ts.dollar);it("(+ 0)$([2, 3, 4]) eql 9",function(){return expect(a([2,3,4])).eql(9)})})}),describe("`",function(){describe("constant (X ?X) 13",function(){var a=ts.apply(ts.backtick,3),b=ts.apply(ts.backtick,ts.apply(ts.backslash,[["a",3]]));it('`3("hello") eql 3',function(){return expect(a("hello")).eql(3)}),it('`((("a" 3) )([1, 2]) eql {a: 3}',function(){return expect(b([1,2])).eql({a:3})})})}),describe("]",function(){describe("last (A ?) 7",function(){var a=ts.bracketright;it("last([1, 2, 3]) eql 3",function(){return expect(a([1,2,3])).eql(3)}),it('last("abcd") eql "d"',function(){return expect(a("abcd")).eql("d")})})}),describe("{",function(){describe("eval (S ?) 2",function(){var a=ts.apply(Math.sqrt,4),b={a:4},c=[4,5,6],d=function(a){return Math.max.apply(Math,a)};it('{"2" eql 2',function(){return expect(2).eql(2)}),it('{"\\"hello\\"" eql "hello"',function(){return expect("hello").eql("hello")}),it('{"[4, 5, 6]" eql [4, 5, 6]',function(){return expect(c).eql([4,5,6])}),it('{"({a: 4})" eql {a: 4}',function(){return expect(b).eql({a:4})}),it('{"x => Math.max.apply(Math, x)"([2, 3, 7, 4]) eql 7',function(){return expect(d([2,3,7,4])).eql(7)}),it('{"Math.sqrt"4 eql 2',function(){return expect(a).eql(2)})})}),describe(";",function(){describe("identity (X X) 6",function(){var a=function(a){return a+3},b=ts.semicolon,c=ts.apply(ts.semicolon,[3,"hello",[4,5,6]]);it("identity(76) eql 76",function(){return expect(b(76)).eql(76)}),it(';(3 "hello" (4 5 6)) eql [3, "hello", [4, 5, 6]]',function(){return expect(c).eql([3,"hello",[4,5,6]])}),it("identity(<fn>) eql <fn>",function(){return expect(b(a)).eql(a)})})}),describe("'",function(){describe("at (N A ?) (N S S) 3",function(){var a=ts.apostrophe,b=ts.apply(2,a),c=ts.apply(a,[1,2,3,4]),d=ts.apply(a,"help");it("2at([1, 2, 3]) eql 3",function(){return expect(b([1,2,3])).eql(3)}),it('2at("help") eql "l"',function(){return expect(b("help")).eql("l")}),it("at(1 2 3 4)(1) eql 2",function(){return expect(c(1)).eql(2)}),it('at"help"(1) eql "e"',function(){return expect(d(1)).eql("e")})}),describe("prop (S O ?) 22",function(){var a=ts.apply(ts.apply("key",ts.apostrophe),ts.apply(ts.backslash,[["a",2],["key",4]]));it('"key"\'((("a" 2) ("key" 4))) eql 4',function(){return expect(a).eql(4)})}),describe("filter (?? A A) 7",function(){var a=ts.apply(ts.apply(ts.apply(ts.less,5),ts.apostrophe),[4,9,2,7,3]),b=ts.apply(ts.apply(ts.semicolon,ts.apostrophe),[]);it("<5'(4 9 2 7 3) eql [4, 2, 3]",function(){return expect(a).eql([4,2,3])}),it(";'( ) eql []",function(){return expect(b).eql([])})}),describe("path AA?, AO?",function(){var a=ts.apply(ts.apply([1],ts.apostrophe),[5,6,7]),b=ts.apply(ts.apply(["key1"],ts.apostrophe),ts.apply(ts.backslash,[["key0",3],["key1",4],["key3",5]])),c=ts.apply([1,"mykey",0],ts.apostrophe),d=ts.apply(["mykey",1],ts.apostrophe);it("(1 )'(5 6 7) eql 6",function(){return expect(a).eql(6)}),it('("key1" )\'((("key0" 3) ("key1" 4) ("key3" 5))) eql 4',function(){return expect(b).eql(4)}),it('(1 "mykey" 0)\'([3, {mykey: ["hello", "bye"]}]) eql "hello"',function(){return expect(c([3,{mykey:["hello","bye"]}])).eql("hello")}),it('("mykey" 1)\'({no: "hello", mykey: [5, 44]}) eql 44',function(){return expect(d({no:"hello",mykey:[5,44]})).eql(44)}),it('("mykey" 1)\'({no: [2, 3]}) eql undefined',function(){return expect(d({no:[2,3]})).eql(void 0)})}),describe("over (A ?? 00)",function(){var a=ts.apply(ts.apply([[1],ts.apply(ts.plus,1)],ts.apostrophe),[3,5,7]),b=ts.apply([[-2],ts.apply(ts.asterisk,2)],ts.apostrophe),c=ts.apply([["b"],ts.apply(ts.plus," John")],ts.apostrophe),d=ts.apply(ts.apply([[3],ts.apply(ts.plus,1)],ts.apostrophe),[0,1,2]),e=ts.apply([["c"],ts.apply(ts.backtick,"hi")],ts.apostrophe),f=ts.apply([[-2,"a",1],ts.apply(ts.minus,2)],ts.apostrophe),g=ts.apply([["a","b","c"],ts.apply(ts.backtick,"created")],ts.apostrophe);it("(1 )'(+1)(3 5 7) eql [3, 6, 7]",function(){return expect(a).eql([3,6,7])}),it("(~2 )'(*2)([1, 2, 3, 4, 5]) eql [1, 2, 3, 8, 5]",function(){return expect(b([1,2,3,4,5])).eql([1,2,3,8,5])}),it('("b" )\'(+" John")({a: "Hello", b: "Bye", c: "Welcome"}) eql {a: "Hello", b: "Bye John", c: "Welcome"}',function(){return expect(c({a:"Hello",b:"Bye",c:"Welcome"})).eql({a:"Hello",b:"Bye John",c:"Welcome"})}),it("(3 )'(+1)(0 1 2) eql [0, 1, 2]",function(){return expect(d).eql([0,1,2])}),it('("c" )\'(`"hi")({a: "hello", b: "morning"}) eql {a: "hello", b: "morning", c: "hi"}',function(){return expect(e({a:"hello",b:"morning"})).eql({a:"hello",b:"morning",c:"hi"})}),it('(~2 "a" 1)\'(-2)([1, 2, {a: [0, 1, 2]}, 3]) eql [1, 2, {a: [0, -1, 2]}, 3]',function(){return expect(f([1,2,{a:[0,1,2]},3])).eql([1,2,{a:[0,-1,2]},3])}),it('(~2 "a" 1)\'(-2)([0]) eql [0]',function(){return expect(f([0])).eql([0])}),it('("a" "b" "c")\'(`"created")({}) eql {a: {b: {c: "created"}}}',function(){return expect(g({})).eql({a:{b:{c:"created"}}})})})}),describe(",",function(){describe("zipApplyTo (A A A) 8",function(){var a=ts.apply(ts.apply([1,2,3],ts.comma),[ts.apply(ts.asterisk,3),ts.apply(ts.plus,7)]),b=ts.apply(ts.apply([4,5],ts.comma),[ts.apply(ts.slash,2),ts.apply(ts.minus,1),ts.apply(ts.asterisk,8)]);it("(1 2 3),(*3 +7) eql [3, 9]",function(){return expect(a).eql([3,9])}),it("(4 5),(/2 -1 *8) eql [2, 4]",function(){return expect(b).eql([2,4])})}),describe("zipPipe 000",function(){var a=ts.apply(ts.comma,[ts.apply(ts.minus,1)]),b=ts.apply(ts.apply(ts.apply(ts.minus,1),ts.dot),ts.apply(7,ts.dot)),c=ts.apply(ts.apply(ts.apply(ts.comma,[ts.minus]),ts.comma),[ts.apply(5,ts.dot)]),d=ts.apply(ts.apply(ts.apply(ts.comma,[ts.apply(ts.plus,2),ts.minus]),ts.comma),[ts.semicolon,ts.apply(5,ts.dot)]),e=ts.apply(d,[5,3]),f=ts.apply(ts.apply(ts.apply(ts.apply([4,8],ts.comma),[ts.apply(ts.plus,2),ts.minus]),ts.comma),[ts.semicolon,ts.apply(5,ts.dot)]);it(",(-1 )([5]) eql [4]",function(){return expect(a([5])).eql([4])}),it("-1.(7.) eql 6",function(){return expect(b).eql(6)}),it(",(- ),(5. )([9]) eql 4",function(){return expect(c([9])).eql([4])}),it(",(+2 -),(; 5.)([7, 9]) eql [9, 4]",function(){return expect(d([7,9])).eql([9,4])}),it(",(+2 -),(; 5.)(5 3) eql [7, -2]",function(){return expect(e).eql([7,-2])}),it("(4 8),(+2 -),(; 5.) eql [6, 3]",function(){return expect(f).eql([6,3])})})}),describe("=",function(){describe("equals (X X X) 4",function(){var a=(ts.equal,ts.apply(ts.equal,7)),b=ts.apply("Peter",ts.equal),c=ts.apply(ts.apply([2,"Jane",[3,4]],ts.equal),[2,"Jane",[3,4]]),d=ts.apply(ts.apply(2,ts.equal),4),e=ts.apply(ts.apply([1,2,3],ts.equal),[1,2,3]),f=ts.apply(ts.equal,[1,2,3]),g=ts.apply(ts.apply(1,ts.equal),2),h=ts.apply(ts.apply(1,ts.equal),void 0),i=ts.apply(ts.apply([1,"hello"],ts.equal),[1,"hello"]),j=ts.apply(ts.apply(void 0,ts.equal),void 0);it('=7("Dan") eql undefined',function(){return expect(a("Dan")).eql(void 0)}),it('"Peter"=("Peter") eql "Peter"',function(){return expect(b("Peter")).eql("Peter")}),it('(2 "Jane" (3 4))=(2 "Jane" (3 4)) eql [[2, "Jane", [3, 4]], ["A"]]',function(){return expect([c,ts.typeOf(c)]).eql([[2,"Jane",[3,4]],"A"])}),it("2=4 eql undefined",function(){return expect(d).eql(void 0)}),it("(1 2 3)=(1 2 3) eql [1, 2, 3]",function(){return expect(e).eql([1,2,3])}),it("=(1 2 3)(1) eql undefined",function(){return expect(f(1)).eql(void 0)}),it("1=2 eql undefined",function(){return expect(g).eql(void 0)}),it("1=() eql undefined",function(){return expect(h).eql(void 0)}),it('(1 "hello")=(1 "hello") eql [1, "hello"]',function(){return expect(i).eql([1,"hello"])}),it("()=() eql undefined",function(){return expect(j).eql(void 0)})})}),describe("|",function(){describe("orValue (? N ?), (? A ?) 7",function(){var a=ts.apply(ts.apply(1,ts.bar),2),b=ts.apply(ts.apply([1,2,3],ts.bar),[4,5]),c=ts.apply(ts.apply(1,ts.bar),void 0),d=ts.apply(ts.apply(void 0,ts.bar),1),e=ts.apply(void 0,ts.bar),f=ts.apply(ts.bar,void 0),g=ts.apply(ts.apply("hello",ts.bar),"bye"),h=ts.apply(ts.apply(void 0,ts.bar),[1,2,3]);it("1|2 eql 1",function(){return expect(a).eql(1)}),it("(1 2 3)|(4 5) eql [1, 2, 3]",function(){return expect(b).eql([1,2,3])}),it("1|() eql 1",function(){return expect(c).eql(1)}),it("()|1 eql 1",function(){return expect(d).eql(1)}),it("()|(2) eql 2",function(){return expect(e(2)).eql(2)}),it("|()(3) eql 3",function(){return expect(f(3)).eql(3)}),it('"hello"|"bye" eql "hello"',function(){return expect(g).eql("hello")}),it("()|(1 2 3) eql [1, 2, 3]",function(){return expect(h).eql([1,2,3])})}),describe("orPredicate 111",function(){var a=ts.apply(ts.apply(ts.apply(ts.less,5),ts.bar),ts.apply(ts.apply(ts.apply(ts.percent,2),ts.dot),ts.apply(ts.equal,0)));it("<5|(%2.=0)(3) eql 3",function(){return expect(a(3)).eql(3)}),it("<5|(%2.=0)(10) not eql undefined",function(){return expect(a(10)).not.eql(void 0)}),it("<5|(%2.=0)(7) eql undefined",function(){return expect(a(7)).eql(void 0)})}),describe("orOperator 222",function(){var a=ts.apply(ts.apply(ts.less,ts.bar),ts.equal),b=ts.apply(ts.apply(5,a),7),c=ts.apply(ts.apply(7,ts.apply(ts.apply(ts.less,ts.bar),ts.equal)),5),d=ts.apply(ts.apply(7,ts.apply(ts.apply(ts.less,ts.bar),ts.equal)),void 0);it("5(<|=)7 eql 5",function(){return expect(b).eql(5)}),it("7(<|=)5 eql undefined",function(){return expect(c).eql(void 0)}),it("<|=(5, 5) eql 5",function(){return expect(a(5,5)).eql(5)}),it("<|=(6, 4) eql undefined",function(){return expect(a(6,4)).eql(void 0)}),it("7(<|=)() eql undefined",function(){return expect(d).eql(void 0)})})}),describe("-",function(){describe("minus NNN",function(){var a=ts.apply(ts.apply(4,ts.minus),9),b=ts.apply(ts.minus,6),c=ts.apply(9,ts.minus);it("4-9 eql -5",function(){return expect(a).eql(-5)}),it("-6(10) eql 4",function(){return expect(b(10)).eql(4)}),it("9-(-5) eql 14",function(){return expect(c(-5)).eql(14)})}),describe("omitKey (S O O) |",function(){var a=ts.apply(ts.apply("key1",ts.minus),ts.apply(ts.backslash,[["key1",1],["key2",2]]));it('"key1"-(\\(("key1" 1) ("key2" 2))) eql {key1: 1}',function(){return expect(a).eql({key2:2})})}),describe("omitKeys AOO",function(){var a=ts.apply(ts.apply(["a","no","hen"],ts.minus),ts.apply(ts.backslash,[["a",4],["be","hello"],["hen",[1,2,3]]])),b=ts.apply(["c","ex"],ts.minus);it('("a" "no" "hen")-((("a" 4) ("be" "hello") ("hen" (1 2 3)))) eql {be: "hello"}',function(){return expect(a).eql({be:"hello"})}),it('("c" "ex")-({a: "head", ex: 4}) eql {a: "head}',function(){return expect(b({a:"head",ex:4})).eql({a:"head"})})})}),describe("/",function(){describe("divide 000",function(){var a=ts.apply(ts.apply(9,ts.slash),2),b=ts.apply(8,ts.slash),c=ts.apply(ts.slash,2),d=ts.apply(ts.slash,0);it("9/2 eql 4.5",function(){return expect(a).eql(4.5)}),it("8/(4) eql 2",function(){return expect(b(4)).eql(2)}),it("/2(10) eql 5",function(){return expect(c(10)).eql(5)}),it("/0(8) eql undefined",function(){return expect(d(8)).eql(void 0)})})}),describe("#",function(){describe("length (A N) 3",function(){var a=ts.hash,b=ts.apply(ts.hash,[3,4,5,6,7]);it("length([5, 6, 7, 8]) eql 4",function(){return expect(a([5,6,7,8])).eql(4)}),it("#(3 4 5 6 7) eql [5, [N]]",function(){return expect([b,ts.typeOf(b)]).eql([5,"N"])})})}),describe("<",function(){describe("lessThan (N N N)",function(){var a=ts.apply(ts.apply(2,ts.less),3),b=ts.apply(ts.apply(3,ts.less),2);it("2<3 eql 2",function(){return expect(a).eql(2)}),it("3<2 eql undefined",function(){return expect(b).eql(void 0)})}),describe("lessThan (S S S)",function(){var a=ts.apply(ts.apply("ab",ts.less),"bc"),b=ts.apply(ts.apply("b",ts.less),"a");it('"ab"<"bc" eql "ab"',function(){return expect(a).eql("ab")}),it('"b"<"a" eql undefined',function(){return expect(b).eql(void 0)})}),describe("ascendingSort (?? A A) |",function(){var a=ts.apply(ts.apply(Math.abs,ts.less),[-7,3,-1,4]),b=ts.apply(ts.apply(ts.bracketleft,ts.less),["tom","ann","sam"]);it('{"Math.abs"<(~7 3 _~1 4) eql [-1, 3, 4, -7]',function(){return expect(a).eql([-1,3,4,-7])}),it('[<("tom" "ann" "sam") eql ["ann", "sam", "tom"]',function(){return expect(b).eql(["ann","sam","tom"])})})}),describe(">",function(){describe("greaterThan (N N N)",function(){var a=ts.apply(ts.apply(2,ts.greater),3),b=ts.apply(ts.apply(3,ts.greater),2);it("2>3 eql undefined",function(){return expect(a).eql(void 0)}),it("3>2 eql 3",function(){return expect(b).eql(3)})}),describe("greaterThan (S S S)",function(){var a=ts.apply(ts.apply("ab",ts.greater),"bc"),b=ts.apply(ts.apply("b",ts.greater),"a");it('"ab">"bc" eql undefined',function(){return expect(a).eql(void 0)}),it('"b">"a" eql "b"',function(){return expect(b).eql("b")})}),describe("descendingSort (?? A A) |",function(){var a=ts.apply(ts.apply(Math.abs,ts.greater),[-7,3,-1,4]),b=ts.apply(ts.apply(ts.bracketleft,ts.greater),["tom","ann","sam"]);it('{"Math.abs">(~7 3 _~1 4) eql [-7, 4, 3, -1]',function(){return expect(a).eql([-7,4,3,-1])}),it('[>("tom" "ann" "sam") eql ["tom", "sam", "ann"]',function(){return expect(b).eql(["tom","sam","ann"])})})}),describe("%",function(){var a=ts.percent;describe("modulo (N N N)",function(){var a=ts.apply(ts.percent,2);it("%2(3) eql 1",function(){return expect(a(3)).eql(1)})}),describe("split (N A A) (N S A)",function(){var b=ts.apply(2,a),c=ts.apply(-2,a);it("2split([1, 2, 3, 4, 5]) eql [[1, 2], [3, 4, 5]]",function(){return expect(b([1,2,3,4,5])).eql([[1,2],[3,4,5]])}),it('2split("abcde") eql ["ab", "cde"]',function(){return expect(b("abcde")).eql(["ab","cde"])}),it("~2split([1, 2, 3, 4, 5]) eql [[1, 2, 3], [4, 5]]",function(){return expect(c([1,2,3,4,5])).eql([[1,2,3],[4,5]])}),it('~2split("abcde") eql ["abc", "de"]',function(){return expect(c("abcde")).eql(["abc","de"])})}),describe("groupBy (?? A O) |",function(){var a=ts.apply(ts.apply(ts.bracketleft,ts.percent),["ann","ben","ade"]),b=ts.apply(ts.apply(ts.bracketleft,ts.percent),[]);it('[%("ann" "ben" "ade") eql {a: ["ann", "ade"], b: ["ben"]}',function(){return expect(a).eql({a:["ann","ade"],b:["ben"]})}),it("[%( ) eql {}",function(){return expect(b).eql({})})});var b=ts.apply([3],ts.percent),c=ts.apply([3,2],ts.percent),d=ts.apply([3,2,0],ts.percent);describe("chunkArray (A A A)",function(){it("(3 )%([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]) eql [[0, 1, 2], [3, 4, 5], [6, 7, 8], [9]]",function(){return expect(b([0,1,2,3,4,5,6,7,8,9])).eql([[0,1,2],[3,4,5],[6,7,8],[9]])}),it("(3 2)%([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]) eql [[0, 1, 2], [3, 4], [5, 6, 7], [8, 9]]",function(){return expect(c([0,1,2,3,4,5,6,7,8,9])).eql([[0,1,2],[3,4],[5,6,7],[8,9]])}),it("(3 2 0)%([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]) eql [[0, 1, 2], [3, 4], [5, 6, 7, 8, 9]]",function(){return expect(d([0,1,2,3,4,5,6,7,8,9])).eql([[0,1,2],[3,4],[5,6,7,8,9]])})}),describe("chunkString (A S A)",function(){it('(3 )%"abcdefghij" eql ["abc", "def", "ghi", "j]',function(){return expect(b("abcdefghij")).eql(["abc","def","ghi","j"])}),it('(3 2)%"abcdefghij" eql ["abc", "de", "fgh", "ij"]',function(){return expect(c("abcdefghij")).eql(["abc","de","fgh","ij"])}),it('(3 2 0)%"abcdefghij" eql ["abc", "de", "fgh", "ij"]',function(){return expect(d("abcdefghij")).eql(["abc","de","fghij"])})});var e=ts.apply(ts.less,ts.percent);describe("chunkArrayWhen (??? A A)",function(){it("<%([9, 6, 4, 8, 5, 2, 7, 4, 1, 0]) eql [[9, 6, 4], [8, 5, 2], [7, 4, 1, 0]]",function(){return expect(e([9,6,4,8,5,2,7,4,1,0])).eql([[9,6,4],[8,5,2],[7,4,1,0]])})}),describe("chunkStringWhen (SS? S A)",function(){it('<%("jgeifcheba") eql ["jge", "ifc", "heba"]',function(){return expect(e("jgeifcheba")).eql(["jge","ifc","heba"])})})}),describe("[",function(){describe("first (A ?) 3",function(){var a=ts.bracketleft;it("first([1, 2, 3]) eql 1",function(){return expect(a([1,2,3])).eql(1)}),it('first("abcd") eql "a"',function(){return expect(a("abcd")).eql("a")})})}),describe("}",function(){describe("typeOf (? S) 1",function(){var a=ts.braceright,b=ts.apply(ts.braceright,void 0),c=ts.apply(ts.braceright,4.5),d=ts.apply(ts.braceright,"hello"),e=ts.apply(ts.braceright,[7,8,9]),f=ts.apply(ts.braceright,ts.apply(ts.backslash,[["a",4]])),g=ts.apply(ts.braceright,Math.pow),h=ts.apply(ts.braceright,ts.plus),i=ts.apply(ts.braceright,ts.bracketleft);it("}(undefined) eql undefined",function(){return expect(a(void 0)).eql(void 0)}),it("}() eql undefined",function(){return expect(b).eql(void 0)}),it('}(4) eql "N"',function(){return expect(a(4)).eql("N")}),it('}4.5 eql "N"',function(){return expect(c).eql("N")}),it('}("hello") eql "S"',function(){return expect(a("hello")).eql("S")}),it('}"hello" eql "S"',function(){return expect(d).eql("S")}),it('}([1, 2, 3]) eql "A"',function(){return expect(a([1,2,3])).eql("A")}),it('}(7 8 9) eql "A"',function(){return expect(e).eql("A")}),it('}({a: 3}) eql "O"',function(){return expect(a({a:3})).eql("O")}),it('}(\\(("a" 4) )) eql "O"',function(){return expect(f).eql("O")}),it("}(Math.random) eql 1 (0 arity functions returned as 1)",function(){return expect(a(Math.random)).eql(1)}),it("}(Math.sin) eql 1",function(){return expect(a(Math.sin)).eql(1)}),it("}(Math.pow) eql 2",function(){return expect(a(Math.pow)).eql(2)}),it('}({"Math.pow") eql 2',function(){return expect(g).eql(2)}),it("}+ eql 2",function(){return expect(h).eql(2)}),it("}[ eql 1",function(){return expect(i).eql(1)})})}),describe("^",function(){describe("power (N N N)",function(){var a=ts.apply(ts.hat,3);it("^3(2) eql 8",function(){return expect(a(2)).eql(8)})}),describe("generate (N? N A)",function(){var a=ts.apply(ts.apply(ts.asterisk,2),ts.hat);it("*2^(5) eql [0, 2, 4, 6, 8]",function(){return expect(a(5)).eql([0,2,4,6,8])})}),describe("while (A A A)",function(){var a=ts.apply(ts.apply([ts.apply(ts.apply(ts.hash,ts.dot),ts.apply(ts.less,5)),ts.apply(ts.apply(ts.hash,ts.dot),ts.apply(ts.plus,1))],ts.hat),[]),b=ts.apply(ts.apply([ts.apply(ts.apply(ts.hash,ts.dot),ts.apply(ts.less,5)),ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(-2,ts.percent),ts.dot),ts.bracketright),ts.dot),ts.apply(ts.plus,ts.dollar))],ts.hat),[1,1]);it("(#.<5 #.+1)^( ) eql [1, 2, 3, 4, 5]",function(){return expect(a).eql([1,2,3,4,5])}),it("(#.<5 ~2%.].+$)^(1 1) eql [1, 1, 2, 3, 5]",function(){return expect(b).eql([1,1,2,3,5])})})}),describe("&",function(){describe("andValue (0 0 0)",function(){var a=ts.apply(ts.apply(5,ts.ampersand),void 0),b=ts.apply(ts.apply(void 0,ts.ampersand),5),c=ts.apply(ts.ampersand,"hello"),d=ts.apply("hello",ts.ampersand);it("5&() eql undefined",function(){return expect(a).eql(void 0)}),it("()&5 eql undefined",function(){return expect(b).eql(void 0)}),it('&"hello"([4, 5, 6]) eql "hello"',function(){return expect(c([4,5,6])).eql("hello")}),it('"hello"&([7, 8, 9]) eql [7, 8, 9]',function(){return expect(d([7,8,9])).eql([7,8,9])})}),describe("andPredicate (X? X? X?)",function(){var a=ts.apply(ts.apply(ts.apply(ts.greater,3),ts.ampersand),ts.apply(ts.less,6));it(">3&(<6)(4) eql 4",function(){return expect(a(4)).eql(4)}),it(">3&(<6)(7) eql undefined",function(){return expect(a(7)).eql(void 0)}),it(">3&(<6)(3) eql undefined",function(){return expect(a(3)).eql(void 0)})})}),describe("_",function(){describe("reverse AA, SS",function(){var a=ts.apply(ts.underscore,[1,2,3]),b=ts.apply(ts.underscore,"Hello"),c=ts.underscore;it("_(1 2 3) eql [3, 2, 1]",function(){return expect(a).eql([3,2,1])}),it('_"Hello" eql "olleH"',function(){return expect(b).eql("olleH")}),it("_([4, 5, 6]) eql [6, 5, 4]",function(){return expect(c([4,5,6])).eql([6,5,4])}),it('_("Bye") eql "eyB"',function(){return expect(c("Bye")).eql("eyB")})})}),describe("!",function(){describe("not 00, 11, 22",function(){var a=ts.apply(ts.bang,4),b=ts.apply(ts.bang,0),c=ts.apply(ts.bang,void 0),d=ts.apply(ts.bang,[]),e=ts.apply(ts.bang,"hello"),f=ts.apply(ts.bang,ts.equal),g=ts.apply(ts.bang,ts.apply(ts.less,3)),h=ts.bang,i=ts.apply(ts.bang,ts.apply(ts.apply(1,ts.slash),0));it("!4 eql undefined",function(){return expect(a).eql(void 0)}),it("!0 eql undefined",function(){return expect(b).eql(void 0)}),it("!() eql []",function(){return expect(c).eql([])}),it("!(1 2 3) eql undefined",function(){return expect(d).eql(void 0)}),it('!"hello" eql undefined',function(){return expect(e).eql(void 0)}),it("!=(2, 3) eql 2",function(){return expect(f(2,3)).eql(2)}),it("!=(3, 3) eql undefined",function(){return expect(f(3,3)).eql(void 0)}),it("!(<3)(4) eql 4",function(){return expect(g(4)).eql(4)}),it("!(<3)(2) eql undefined",function(){return expect(g(2)).eql(void 0)}),it('!("hello") eql undefined',function(){return expect(h("hello")).eql(void 0)}),it("!(x => x)({a: 2}) eql undefined",function(){return expect(h(function(a){return a})({a:2})).eql(void 0)}),it("!(x => undefined)(3) eql []",function(){return expect(h(function(a){})(3)).eql(3)}),it("!(1/0) eql []",function(){return expect(i).eql([])})})})}),describe("Basic Operations",function(){describe("Value Binding",function(){describe("number 5",function(){it("number eql 5",function(){return expect(5).eql(5)})}),describe('character "c"',function(){it('character eql "c"',function(){return expect("c").eql("c")})}),describe('greeting "hello"',function(){it('greeting eql "hello"',function(){return expect("hello").eql("hello")})})}),describe("Strings",function(){describe('stringWithSpaces "This is a string with spaces" some comments here',function(){it('stringWithSpaces eql "This is a string with spaces"',function(){return expect("This is a string with spaces").eql("This is a string with spaces")})}),describe('stringWithEmbeddedStrings ""initial string" some text "middle string" more text "final string""',function(){it('stringWithEmbeddedStrings eql ""initial string" some text "middle string" more text "final string""',function(){return expect('"initial string" some text "middle string" more text "final string"').eql('"initial string" some text "middle string" more text "final string"')})})}),describe("Comments",function(){describe("commentedValue 5 this is a nice value",function(){it("commentedValue eql 5",function(){return expect(5).eql(5)})}),describe('name "john" a comment about a string',function(){it('name eql "john"',function(){return expect("john").eql("john")})})}),describe("Brackets",function(){var a=[],b=[[],[],void 0,void 0];it("() eql undefined",function(){return expect(void 0).eql(void 0)}),it("( ) eql []",function(){return expect(a).eql([])}),it("(( ) (  ) () ()) eql [[], [], undefined, undefined]",function(){return expect(b).eql([[],[],void 0,void 0])}),describe("singleArray (5 ) some comment",function(){var a=[5];it("singleArray eql [5]",function(){return expect(a).eql([5])})}),describe("bracketed (5)",function(){it("bracketed eql 5",function(){return expect(5).eql(5)})}),describe("numbers (1 2 3 4)",function(){var a=[1,2,3,4];it("numbers eql [1, 2, 3, 4]",function(){return expect(a).eql([1,2,3,4])})}),describe("trailingSpace (1 2 3 4 )",function(){var a=[1,2,3,4];it("trailingSpace eql [1, 2, 3, 4]",function(){return expect(a).eql([1,2,3,4])})}),describe("doubleBrackets ((1 2 3 4))",function(){var a=[1,2,3,4];it("doubleBrackets eql [1, 2, 3, 4]",function(){return expect(a).eql([1,2,3,4])})}),describe('bracketedString ("string")',function(){it('bracketedString eql "string"',function(){return expect("string").eql("string")})}),describe('mixedArray (5 "hello" (1 2 3) (4))',function(){var a=[5,"hello",[1,2,3],4];it('mixedArray eql [5, "hello", [1, 2, 3], 4]',function(){return expect(a).eql([5,"hello",[1,2,3],4])})})}),describe("Array end spaces",function(){var a=[4,5,6],b=[2,3,4],c=[1,2,3],d=[1,2,3],e=[1,2,3],f=[1,2,3],g=[1,2,3],h=[5,6,7];it("/*ts (1 2 3)*/ eql [1, 2, 3]",function(){return expect(e).eql([1,2,3])}),it("/*ts ( 1 2 3)*/ eql [1, 2, 3]",function(){return expect(d).eql([1,2,3])}),it("/*ts (1 2 3 )*/ eql [1, 2, 3]",function(){return expect(c).eql([1,2,3])}),it("/*ts ( 1 2 3 )*/ eql [1, 2, 3]",function(){return expect(f).eql([1,2,3])}),it("/*ts (\\n\\t1\\n\\t2\\n\\t3\\n) some extra comment*/ eql [1, 2, 3]",function(){return expect(g).eql([1,2,3])}),it("/*\\<name> (\\n\\t4\\n\\t5\\n\\t6\\n) another comment*/ eql [4, 5, 6]",function(){return expect(a).eql([4,5,6])}),it("/*\\<name>\\n\\t(\\n\\t2\\n\\t3 // comment\\n\\t4\\n)*/ eql [2, 3, 4]",function(){return expect(b).eql([2,3,4])}),it("/*ts (\\n\\t5\\n\\t5 // comment\\n\\t7\\n)*/ eql [5, 6, 7]",function(){return expect(h).eql([5,6,7])})}),describe("Referencing custom functions: plus +",function(){var a=ts.plus,b=ts.apply(2,a),c=ts.apply(a,3);it("2plus(3) eql 5",function(){return expect(b(3)).eql(5)}),it("plus3(4) eql 7",function(){return expect(c(4)).eql(7)})}),describe("Completed calculations",function(){var a=ts.apply(ts.apply(4,ts.plus),5);it("4+5 eql 9",function(){return expect(a).eql(9)})}),describe("Inverting primary function application location",function(){var a=ts.apply(ts.apply(ts.apply(ts.equal,3),ts.dot),ts.apply(ts.bracketleft,ts.dot));it("=3.([.)([3, 2, 1]) eql 3",function(){return expect(a([3,2,1])).eql(3)}),it("=3.([.)([1, 2, 3]) eql undefined",function(){return expect(a([1,2,3])).eql(void 0)})}),describe("Highest priority for spaces",function(){describe("arrays of dotted functions",function(){var a=ts.apply(ts.apply(3,ts.dot),[ts.apply(ts.apply(ts.semicolon,ts.dot),ts.apply(ts.plus,1)),ts.apply(ts.apply(ts.semicolon,ts.dot),ts.apply(ts.minus,1))]);it("3.(;.+1 ;.-1) eql [4, 2]",function(){return expect(a).eql([4,2])})}),describe("space breaks with highest priority",function(){var a=[ts.apply(ts.apply(2,ts.plus),3),ts.apply(ts.apply(4,ts.plus),5),ts.apply(ts.apply(6,ts.plus),7)],b=[ts.apply(ts.apply(ts.apply(2,ts.dot),ts.plus),3),ts.apply(ts.apply(ts.apply(4,ts.dot),ts.plus),5),ts.apply(ts.apply(ts.apply(6,ts.dot),ts.plus),7)],c=[ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(2,ts.dot),ts.plus),3),ts.dot),ts.minus),1),ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(4,ts.dot),ts.plus),5),ts.dot),ts.minus),1),ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(6,ts.dot),ts.plus),7),ts.dot),ts.minus),1)],d=ts.apply(ts.apply([ts.apply(ts.plus,2),ts.apply(ts.minus,3)],ts.dot),ts.bracketright);it("(2+3 4+5 6+7) eql [5, 9, 13]",function(){return expect(a).eql([5,9,13])}),it("(2.+3 4.+5 6.+7) eql [5, 9, 13]",function(){return expect(b).eql([5,9,13])}),it("(2.+3.-1 4.+5.-1 6.+7.-1) eql [4, 8, 12]",function(){return expect(c).eql([4,8,12])}),it("(+2 -3).](9) eql 6",function(){return expect(d(9)).eql(6)})})}),describe("Export binary function and execute with two arguments",function(){var a=ts.hat;it("^(3, 2) eql 9",function(){return expect(a(3,2)).eql(9)})}),describe("recursive execution",function(){var a=function a(b){return ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.equal,1),ts.question),ts.comma),[ts.semicolon,ts.apply(ts.apply(ts.apply(ts.dot,[ts.semicolon,ts.apply(ts.apply(ts.apply(ts.minus,1),ts.dot),a)]),ts.dot),ts.apply(ts.asterisk,ts.dollar))]),ts.dot),ts.apply(ts.bar,ts.dollar))(b)};it("=1?,(; .(; -1.factorial).*$).|$(1) eql 1",function(){return expect(a(1)).eql(1)}),it("=1?,(; .(; -1.factorial).*$).|$(2) eql 2",function(){return expect(a(2)).eql(2)}),it("=1?,(; .(; -1.factorial).*$).|$(4) eql 24",function(){return expect(a(4)).eql(24)})})}),describe("99 Haskell Problems",function(){describe("1. myLast ]",function(){var a=ts.bracketright;it("myLast([1, 2, 3, 4]) eql 4",function(){return expect(a([1,2,3,4])).eql(4)}),it('myLast("xyz") eql "z"',function(){return expect(a("xyz")).eql("z")})}),describe("2. myButLast ~2'",function(){var a=ts.apply(-2,ts.apostrophe);it("myButLast([1, 2, 3, 4]) eql 3",function(){return expect(a([1,2,3,4])).eql(3)}),it("myButLast('abcde') eql 'd'",function(){return expect(a("abcde")).eql("d")})}),describe("3. elementAt '",function(){var a=ts.apostrophe,b=ts.apply(2,a),c=ts.apply(a,[1,2,3,4]),d=ts.apply(a,"help");it("2elementAt([1, 2, 3]) eql 3",function(){return expect(b([1,2,3])).eql(3)}),it('2elementAt("help") eql "l"',function(){return expect(b("help")).eql("l")}),it("elementAt(1 2 3 4)(1) eql 2",function(){return expect(c(1)).eql(2)}),it('elementAt"help"(1) eql "e"',function(){return expect(d(1)).eql("e")})}),describe("4. myLength #",function(){var a=ts.hash,b=ts.apply(ts.hash,[5,6,7]),c=ts.apply(ts.hash,"dummy");it("myLength([123, 345, 789]) eql 3",function(){return expect(a([123,456,789])).eql(3)}),it('myLength("Hello, world!") eql 13',function(){return expect(a("Hello, world!")).eql(13)}),it("#(5 6 7) eql 3",function(){return expect(b).eql(3)}),it('#"dummy" eql 5',function(){return expect(c).eql(5)})}),describe("5. myReverse _",function(){var a=ts.underscore,b=ts.apply(ts.underscore,"A man, a plan, a canal, panama!"),c=ts.apply(ts.underscore,[1,2,3,4]);it('myReverse("A man, a plan, a canal, panama!") eql "!amanap ,lanac a ,nalp a ,nam A"',function(){return expect(a("A man, a plan, a canal, panama!")).eql("!amanap ,lanac a ,nalp a ,nam A")}),it("myReverse([1, 2, 3, 4]) eql [4, 3, 2, 1]",function(){return expect(a([1,2,3,4])).eql([4,3,2,1])}),it('_"A man, a plan, a canal, panama!" eql "!amanap ,lanac a ,nalp a ,nam A"',function(){return expect(b).eql("!amanap ,lanac a ,nalp a ,nam A")}),it("_(1 2 3 4) eql [4, 3, 2, 1]",function(){return expect(c).eql([4,3,2,1])})}),describe("6. isPalindrome .(; _).=$",function(){var a=ts.apply(ts.dot,[ts.semicolon,ts.underscore]),b=ts.apply(ts.apply(ts.apply(ts.dot,[ts.semicolon,ts.underscore]),ts.dot),ts.hash),c=ts.apply(ts.apply(ts.apply(ts.dot,[ts.semicolon,ts.underscore]),ts.dot),ts.apply(ts.equal,ts.dollar)),d=ts.apply(ts.apply(ts.apply(ts.apply([1,2,3],ts.dot),[ts.semicolon,ts.underscore]),ts.dot),ts.apply(ts.equal,ts.dollar)),e=ts.apply(ts.apply(ts.apply(ts.apply("madamimadam",ts.dot),[ts.semicolon,ts.underscore]),ts.dot),ts.apply(ts.equal,ts.dollar));it(".(; _)([1, 2, 3]) eql [[1, 2, 3], [3, 2, 1]]",function(){return expect(a([1,2,3])).eql([[1,2,3],[3,2,1]])}),it(".(; _).# arity 1",function(){return expect(ts.arity(b)).eql(1)}),it(".(; _).#([1, 2, 3]) eql 2",function(){return expect(b([1,2,3])).eql(2)}),it("isPalindrome([1, 2, 3]) eql undefined",function(){return expect(c([1,2,3])).eql(void 0)}),it('isPalindrome("madamimadam") eql "madamimadam"',function(){return expect(c("madamimadam")).eql("madamimadam")}),it("isPalindrome([1, 2, 4, 8, 16, 8, 4, 2, 1]) eql [1, 2, 4, 8, 16, 8, 4, 2, 1]",function(){return expect(c([1,2,4,8,16,8,4,2,1])).eql([1,2,4,8,16,8,4,2,1])}),it("(1 2 3).(; _).=$ eql undefined",function(){return expect(d).eql(void 0)}),it('"madamimadam".(; _).=$ eql "madamimadam" type "S"',function(){return expect([e,ts.typeOf(e)]).eql(["madamimadam","S"])})}),describe('7. myFlatten (:,(; (}.="A")?,(myFlatten .(; )).|$).+$ ( ))$',function(){var a=ts.apply([ts.plus,[]],ts.dollar),b=ts.apply(ts.apply(ts.apply(ts.colon,ts.dot),ts.apply(ts.plus,ts.dollar)),ts.dollar),c=ts.apply([ts.apply(ts.apply(ts.colon,ts.dot),ts.apply(ts.plus,ts.dollar)),[]],ts.dollar),d=ts.apply(ts.apply(ts.colon,ts.comma),[ts.semicolon,ts.semicolon]),e=ts.apply([ts.apply(ts.apply(ts.colon,ts.comma),[ts.semicolon,ts.semicolon]),[]],ts.dollar),f=ts.apply([ts.apply(ts.apply(ts.apply(ts.apply(ts.colon,ts.comma),[ts.semicolon,ts.semicolon]),ts.dot),ts.apply(ts.plus,ts.dollar)),[]],ts.dollar),g=ts.apply([ts.apply(ts.apply(ts.apply(ts.apply(ts.colon,ts.comma),[ts.semicolon,ts.apply(ts.dot,[ts.semicolon])]),ts.dot),ts.apply(ts.plus,ts.dollar)),[]],ts.dollar),h=ts.apply(ts.apply(ts.apply(ts.braceright,ts.dot),ts.apply(ts.equal,"A")),ts.question),i=ts.apply(ts.apply(void 0,ts.dot),ts.semicolon),j=ts.apply(ts.apply([void 0,void 0],ts.comma),[ts.semicolon,ts.semicolon]),k=ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.braceright,ts.dot),ts.apply(ts.equal,"A")),ts.question),ts.comma),[ts.semicolon,ts.apply(ts.dot,[ts.semicolon])]),l=ts.apply(ts.apply(void 0,ts.dot),[ts.semicolon]),m=ts.apply(ts.apply([void 0],ts.comma),[ts.apply(ts.dot,[ts.semicolon])]),n=function a(b){return ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.braceright,ts.dot),ts.apply(ts.equal,"A")),ts.question),ts.comma),[a,ts.apply(ts.dot,[ts.semicolon])]),ts.dot),ts.apply(ts.bar,ts.dollar))(b)},o=function a(b){return ts.apply([ts.apply(ts.apply(ts.apply(ts.apply(ts.colon,ts.comma),[ts.semicolon,ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.braceright,ts.dot),ts.apply(ts.equal,"A")),ts.question),ts.comma),[a,ts.apply(ts.dot,[ts.semicolon])]),ts.dot),ts.apply(ts.bar,ts.dollar))]),ts.dot),ts.apply(ts.plus,ts.dollar)),[]],ts.dollar)(b)};it("(( ) +)$([[5, 6], [7, 8]]) eql [5, 6, 7, 8]",function(){return expect(a([[5,6],[7,8]])).eql([5,6,7,8])}),it("(:.+$)$([[2, 3], [4, 5]]) eql [2, 3, 4, 5]",function(){return expect(b([[2,3],[4,5]])).eql([2,3,4,5])}),it("(( ) :.+$)$([[1, 2], [3, 4]])",function(){return expect(c([[1,2],[3,4]])).eql([1,2,3,4])}),it(":,(; ;)(2, 3) eql [2, 3]",function(){return expect(d(2,3)).eql([2,3])}),it("(:,(; ;) ( ))$([1, 2, 3] eql [[[[ ], 1], 2], 3]",function(){return expect(e([1,2,3])).eql([[[[],1],2],3])}),it("(:,(; ;).+$ ( ))$([[6, 5], [4, 3]]) eql [6, 5, 4, 3]",function(){return expect(f([[6,5],[4,3]])).eql([6,5,4,3])}),it("(:,(; .(; )).+$ ( ))$([3, 4, 5]) eql [3, 4, 5]",function(){return expect(g([1,2,3])).eql([1,2,3])}),it('(}.="A")?(1) eql [undefined, 1]',function(){return expect(h(1)).eql([void 0,1])}),it('(}.="A")?([2, 3]) eql [[2, 3], undefined]',function(){return expect(h([2,3])).eql([[2,3],void 0])}),it("().; eql undefined",function(){return expect(i).eql(void 0)}),it("(() ()),(; ;) eql (() ())",function(){return expect(j).eql([void 0,void 0])}),it('(}.="A")?,(; .(; ))(1) eql [undefined, [1]]',function(){return expect(k(1)).eql([void 0,[1]])}),it("().(; ) eql undefined",function(){return expect(l).eql(void 0)}),it("(() ),(.(; ) ) eql [undefined]",function(){return expect(m).eql([void 0])}),it('(}.="A")?,(; .(; ))([1]) eql [[1], undefined]',function(){return expect(k([1])).eql([[1],void 0])}),it('(}.="A")?,(flattenOrMakeArray .(; )).|$(1) eql [1]',function(){return expect(n(1)).eql([1])}),it("myFlatten([1, 2, 3]) eql [1, 2, 3]",function(){return expect(o([1,2,3])).eql([1,2,3])}),it("myFlatten([[1]]) eql [1]",function(){return expect(o([[1]])).eql([1])}),it("myFlatten([1, [2, 3], 4]) eql ([1, 2, 3, 4])",function(){return expect(o([1,[2,3],4])).eql([1,2,3,4])}),it('myFlatten(["a", ["b", ["c", "d"], "e"]]) eql ["a", "b", "c", "d", "e"]',function(){return expect(o(["a",["b",["c","d"],"e"]])).eql(["a","b","c","d","e"])}),it("myFlatten([]) eql []",function(){return expect(o([])).eql([])})}),describe("8. compress !=%.[@",function(){var a=ts.apply(ts.apply(ts.apply(ts.apply(ts.bang,ts.equal),ts.percent),ts.dot),ts.apply(ts.bracketleft,ts.atsign)),b=ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.bang,ts.equal),ts.percent),ts.dot),ts.apply(ts.bracketleft,ts.atsign)),ts.dot),ts.apply("",ts.dollar)),c=ts.apply(",",ts.dollar),d=ts.apply("",ts.dollar);it('!=%.[@(["a", "a", "a", "a", "b", "c", "c", "a", "a", "d", "e", "e", "e", "e"]) eql ["a", "b", "c", "a", "d", "e"]',function(){return expect(a(["a","a","a","a","b","c","c","a","a","d","e","e","e","e"])).eql(["a","b","c","a","d","e"])}),it('","$([2, 3]) eql "2,3"',function(){return expect(c([2,3])).eql("2,3")}),it('""$([2, 3]) eql "23"',function(){return expect(d([2,3])).eql("23")}),it('""$(["a", "b", "c"]) eql "abc"',function(){return expect(d(["a","b","c"])).eql("abc")}),it('!=%.[@.""$("aaaabccaadeeee") eql "abcade"',function(){return expect(b("aaaabccaadeeee")).eql("abcade")})});var a=ts.apply(ts.apply(ts.bang,ts.equal),ts.percent),b=ts.apply(ts.apply(a,ts.dot),ts.apply(ts.apply(ts.dot,[ts.hash,ts.bracketleft]),ts.atsign));describe("9. pack !=%",function(){var b=ts.apply(ts.apply(ts.apply(ts.apply(ts.bang,ts.equal),ts.percent),ts.dot),ts.apply(ts.apply("",ts.dollar),ts.atsign));it("!=%([1, 1, 1, 1, 2, 3, 3, 1, 1, 4, 5, 5, 5, 5]) eql [[1, 1, 1, 1], [2], [3, 3], [1, 1], [4], [5, 5, 5, 5]]",function(){return expect(a([1,1,1,1,2,3,3,1,1,4,5,5,5,5])).eql([[1,1,1,1],[2],[3,3],[1,1],[4],[5,5,5,5]])}),it('!=%.""$@(["a", "a", "a", "a", "b", "c", "c", "a", "a", "d", "e", "e", "e", "e"]) eql ["aaaa", "b", "cc", "aa", "d", "eeee"]',function(){return expect(b(["a","a","a","a","b","c","c","a","a","d","e","e","e","e"])).eql(["aaaa","b","cc","aa","d","eeee"])})}),describe("10. encode pack.(.(# [))@",function(){it('pack.(.(# [))@("aaaabccaadeeee") eql [[4, "a"], [1, "b"], [2, "c"], [2, "a"], [1, "d"], [4, "e"]]',function(){return expect(b("aaaabccaadeeee")).eql([[4,"a"],[1,"b"],[2,"c"],[2,"a"],[1,"d"],[4,"e"]])})}),describe("11. encodeModified encode.(([.=1)?,(] ;).|$)@",function(){var a=ts.apply(ts.apply(b,ts.dot),ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.bracketleft,ts.dot),ts.apply(ts.equal,1)),ts.question),ts.comma),[ts.bracketright,ts.semicolon]),ts.dot),ts.apply(ts.bar,ts.dollar)),ts.atsign));it('encode.(([.=1)?,(] ;).|$)@("aaaabccaadeeee") eql [[4, "a"], "b", [2, "c"], [2, "a"], "d", [4, "e"]]',function(){return expect(a("aaaabccaadeeee")).eql([[4,"a"],"b",[2,"c"],[2,"a"],"d",[4,"e"]])})}),describe('12. decodeModifiedString ((#.=2)?,(.(].` [).^$ .(; )).|$.""$)@.""$',function(){var a=ts.apply(ts.apply(ts.bracketright,ts.dot),ts.backtick),b=ts.apply(ts.apply(ts.apply(ts.dot,[ts.apply(ts.apply(ts.bracketright,ts.dot),ts.backtick),ts.bracketleft]),ts.dot),ts.apply(ts.hat,ts.dollar)),c=ts.apply(ts.apply("",ts.dollar),["b"]),d=ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.hash,ts.dot),ts.apply(ts.equal,2)),ts.question),ts.comma),[ts.apply(ts.apply(ts.apply(ts.dot,[ts.apply(ts.apply(ts.bracketright,ts.dot),ts.backtick),ts.bracketleft]),ts.dot),ts.apply(ts.hat,ts.dollar)),ts.apply(ts.dot,[ts.semicolon])]),ts.dot),ts.apply(ts.bar,ts.dollar)),ts.atsign),e=ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.hash,ts.dot),ts.apply(ts.equal,2)),ts.question),ts.comma),[ts.apply(ts.apply(ts.apply(ts.dot,[ts.apply(ts.apply(ts.bracketright,ts.dot),ts.backtick),ts.bracketleft]),ts.dot),ts.apply(ts.hat,ts.dollar)),ts.apply(ts.dot,[ts.semicolon])]),ts.dot),ts.apply(ts.bar,ts.dollar)),ts.dot),ts.apply("",ts.dollar)),ts.atsign),f=ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.hash,ts.dot),ts.apply(ts.equal,2)),ts.question),ts.comma),[ts.apply(ts.apply(ts.apply(ts.dot,[ts.apply(ts.apply(ts.bracketright,ts.dot),ts.backtick),ts.bracketleft]),ts.dot),ts.apply(ts.hat,ts.dollar)),ts.apply(ts.dot,[ts.semicolon])]),ts.dot),ts.apply(ts.bar,ts.dollar)),ts.dot),ts.apply("",ts.dollar)),ts.atsign),ts.dot),ts.apply("",ts.dollar));it("].`([2, 3])(4) eql 3",function(){return expect(a([2,3])(4)).eql(3)}),it('.(].` [).^$([3, "a"]) eql ["a", "a", "a"]',function(){return expect(b([3,"a"])).eql(["a","a","a"])}),it('""$("b" ) eql "b"',function(){return expect(c).eql("b")}),it('((#.=2)?,(.(].` [).^$ .(; )).|$)@([[3, "a"], "b"]) eql [["a", "a", "a"], ["b"]]',function(){return expect(d([[3,"a"],"b"])).eql([["a","a","a"],["b"]])}),it('((#.=2)?,(.(].` [).^$ .(; )).|$.""$)@([[3, "a"], "b"]) eql ["aaa", "b"]',function(){return expect(e([[3,"a"],"b"])).eql(["aaa","b"])}),it('((#.=2)?,(.(].` [).^$ .(; )).|$.""$)@.""$([[4, "a"], "b", [2, "c"], [2, "a"], "d", [4, "e"]]) eql "aaaabccaadeeee"',function(){return expect(f([[4,"a"],"b",[2,"c"],[2,"a"],"d",[4,"e"]])).eql("aaaabccaadeeee")})}),describe("14. dupli .(; ;).~.+$",function(){var a=ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.dot,[ts.semicolon,ts.semicolon]),ts.dot),ts.tilde),ts.dot),ts.apply(ts.plus,ts.dollar));it(".(; ;).~.+$([1, 2, 3]) eql [1, 1, 2, 2, 3, 3]",function(){return expect(a([1,2,3])).eql([1,1,2,2,3,3])})}),describe("15. repli :.(].` [).^$.~.+$",function(){var a=ts.apply(ts.dot,ts.backtick),b=ts.apply(ts.apply([ts.apply(ts.backtick,3),2],ts.dot),ts.apply(ts.hat,ts.dollar)),c=ts.apply(ts.apply(ts.apply(ts.apply([2,4],ts.dot),[ts.apply(ts.apply(ts.bracketright,ts.dot),ts.backtick),ts.bracketleft]),ts.dot),ts.apply(ts.hat,ts.dollar)),d=ts.apply(ts.apply(ts.apply(ts.apply(ts.colon,ts.dot),[ts.apply(ts.apply(ts.bracketright,ts.dot),ts.backtick),ts.bracketleft]),ts.dot),ts.apply(ts.hat,ts.dollar)),e=ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.colon,ts.dot),[ts.apply(ts.apply(ts.bracketright,ts.dot),ts.backtick),ts.bracketleft]),ts.dot),ts.apply(ts.hat,ts.dollar)),ts.dot),ts.tilde),ts.dot),ts.apply(ts.plus,ts.dollar)),f=ts.apply(ts.apply(2,e),[1,2,3]);it(".`(3)(4) eql 3",function(){return expect(a(3)(4)).eql(3)}),it("(`3 2).^$ eql [3, 3]",function(){return expect(b).eql([3,3])}),it("(2 4).(].` [).^$ eql [4, 4]",function(){return expect(c).eql([4,4])}),it(":.(].` [).^$(2, 3) eql [3, 3]",function(){return expect(d(2,3)).eql([3,3])}),it("2repli(1 2 3) eql [1, 1, 2, 2, 3, 3]",function(){return expect(f).eql([1,1,2,2,3,3])}),it("repli(3, [4, 5]) eql [4, 4, 4, 5, 5, 5]",function(){return expect(e(3,[4,5])).eql([4,4,4,5,5,5])})}),describe("16. dropEvery :.([.-1.% ,(.(; ) ;).%$).@$.[@.+$",function(){var a=ts.apply(ts.apply([ts.apply(ts.asterisk,2),[1,2,3]],ts.dot),ts.apply(ts.atsign,ts.dollar)),b=(ts.apply(ts.apply(ts.apply(ts.comma,[ts.apply(ts.dot,[ts.semicolon]),ts.semicolon]),ts.dot),ts.apply(ts.percent,ts.dollar)),ts.apply(ts.apply(ts.colon,ts.dot),[ts.apply(ts.apply(ts.apply(ts.comma,[ts.apply(ts.dot,[ts.semicolon]),ts.semicolon]),ts.dot),ts.apply(ts.percent,ts.dollar))])),c=ts.apply(ts.apply(ts.apply(ts.apply(ts.bracketleft,ts.dot),ts.apply(ts.minus,1)),ts.dot),ts.percent),d=ts.apply(ts.apply(ts.bracketleft,ts.dot),ts.percent),e=ts.apply(ts.apply(2,ts.plus),3),f=ts.apply(ts.apply(2,ts.dot),ts.plus),g=ts.apply(ts.apply(2,ts.dot),ts.percent),h=ts.apply(ts.apply(ts.apply(ts.apply(ts.colon,ts.comma),[ts.apply(ts.dot,[ts.semicolon]),ts.semicolon]),ts.dot),ts.apply(ts.percent,ts.dollar)),i=ts.apply(-2,ts.percent),j=ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.colon,ts.dot),[ts.apply(ts.apply(ts.apply(ts.apply(ts.bracketleft,ts.dot),ts.apply(ts.minus,1)),ts.dot),ts.percent),ts.apply(ts.apply(ts.apply(ts.comma,[ts.apply(ts.dot,[ts.semicolon]),ts.semicolon]),ts.dot),ts.apply(ts.percent,ts.dollar))]),ts.dot),ts.apply(ts.atsign,ts.dollar)),ts.dot),ts.apply(ts.bracketleft,ts.atsign)),ts.dot),ts.apply(ts.plus,ts.dollar));it("(*2 (1 2 3)).@$ eql [2, 4, 6]",function(){return expect(a).eql([2,4,6])}),it(":.(,(.(; ) ;).%$ )(2, [1, 2, 3, 4, 5]) eql [[[1, 2], [3, 4], [5]]]",function(){return expect(b(2,[1,2,3,4,5])).eql([[[1,2],[3,4],[5]]])}),it("[.-1.%([2, 4])([4, 5, 6]) eql [[4], [5, 6]]",function(){return expect(c([2,4])([4,5,6])).eql([[4],[5,6]])}),it("[.%([1, 2])([4, 5, 6]) eql [[4], [5, 6]]",function(){return expect(d([1,2])([4,5,6])).eql([[4],[5,6]])}),it("2+3 eql 5",function(){return expect(e).eql(5)}),it("2.+(4) eql 6",function(){return expect(f(4)).eql(6)}),it("2.%([1, 2, 3, 4, 5]) eql [[1, 2], [3, 4, 5]]",function(){return expect(g([1,2,3,4,5])).eql([[1,2],[3,4,5]])}),it(":,(.(; ) ;).%$(2, [1, 2, 3, 4, 5]) eql [[1, 2], [3, 4], [5]]",function(){return expect(h(2,[1,2,3,4,5])).eql([[1,2],[3,4],[5]])}),it("~2split([1, 2, 3, 4, 5]) eql [[1, 2, 3], [4, 5]]",function(){return expect(i([1,2,3,4,5])).eql([[1,2,3],[4,5]])}),it(":.([.-1.% ,(.(; ) ;).%$).@$.[@.+$(3, [1, 2, 3, 4, 5, 6, 7, 8]) eql [1, 2, 4, 5, 7, 8]",function(){return expect(j(3,[1,2,3,4,5,6,7,8])).eql([1,2,4,5,7,8])}),it(':.([.-1.% ,(.(; ) ;).%$).@$.[@.+$("abcdefghik") eql "abdeghk"',function(){return expect(j(3,"abcdefghik")).eql("abdeghk")})}),describe("17. split %",function(){var a=ts.percent;it("%(3, [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]) eql [[1, 2, 3], [4, 5, 6, 7, 8, 9, 10]]",function(){return expect(a(3,[1,2,3,4,5,6,7,8,9,10])).eql([[1,2,3],[4,5,6,7,8,9,10]])}),it('%(3, "abcdefghik") eql ["abc", "defghik"]',function(){return expect(a(3,"abcdefghik")).eql(["abc","defghik"])})}),describe("18. slice :,(.([ _.-$ `0) ;).%$.1'",function(){var a=ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.colon,ts.comma),[ts.apply(ts.dot,[ts.bracketleft,ts.apply(ts.apply(ts.underscore,ts.dot),ts.apply(ts.minus,ts.dollar)),ts.apply(ts.backtick,0)]),ts.semicolon]),ts.dot),ts.apply(ts.percent,ts.dollar)),ts.dot),ts.apply(1,ts.apostrophe));it("slice([2, 7], [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]) eql [3, 4, 5, 6, 7]",function(){return expect(a([2,7],[1,2,3,4,5,6,7,8,9,10])).eql([3,4,5,6,7])}),it('slice([2, 7], "abcdefghik") eql "cdefg"',function(){return expect(a([2,7],"abcdefghik")).eql("cdefg")})}),describe("19. rotate %._.+$",function(){var a=ts.apply(ts.apply(ts.apply(ts.apply(ts.percent,ts.dot),ts.underscore),ts.dot),ts.apply(ts.plus,ts.dollar)),b=ts.percent;it("rotate(3, [1, 2, 3, 4, 5, 6, 7, 8]) eql [4, 5, 6, 7, 8, 1, 2, 3]",function(){return expect(a(3,[1,2,3,4,5,6,7,8])).eql([4,5,6,7,8,1,2,3])}),it('%(-2, "abcde" eql ["abc", "de"]',function(){return expect(b(-2,"abcde")).eql(["abc","de"])}),it('rotate(-2, "abcdefgh") eql "ghabcdef"',function(){return expect(a(-2,"abcdefgh")).eql("ghabcdef")})}),describe("20. removeAt :,(.(; `1 `0) ;).%$.([ ]).+$",function(){var a=ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.colon,ts.comma),[ts.apply(ts.dot,[ts.semicolon,ts.apply(ts.backtick,1),ts.apply(ts.backtick,0)]),ts.semicolon]),ts.dot),ts.apply(ts.percent,ts.dollar)),ts.dot),[ts.bracketleft,ts.bracketright]),ts.dot),ts.apply(ts.plus,ts.dollar));it("removeAt(2, [1, 2, 3, 4, 5, 6]) eql [1, 2, 4, 5, 6]",function(){return expect(a(2,[1,2,3,4,5,6])).eql([1,2,4,5,6])}),it('removeAt(1, "abcd") eql "acd"',function(){return expect(a(1,"abcd")).eql("acd")})}),describe("21. insertAt :.(.([.[ ]).%$ [.]).([.[ .(] ) [.]).+$",function(){var a=ts.apply(ts.apply(ts.colon,ts.dot),[ts.apply(ts.apply(ts.apply(ts.dot,[ts.apply(ts.apply(ts.bracketleft,ts.dot),ts.bracketleft),ts.bracketright]),ts.dot),ts.apply(ts.percent,ts.dollar)),ts.apply(ts.apply(ts.bracketleft,ts.dot),ts.bracketright)]),b=ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.colon,ts.dot),[ts.apply(ts.apply(ts.apply(ts.dot,[ts.apply(ts.apply(ts.bracketleft,ts.dot),ts.bracketleft),ts.bracketright]),ts.dot),ts.apply(ts.percent,ts.dollar)),ts.apply(ts.apply(ts.bracketleft,ts.dot),ts.bracketright)]),ts.dot),[ts.apply(ts.apply(ts.bracketleft,ts.dot),ts.bracketleft),ts.apply(ts.dot,[ts.bracketright]),ts.apply(ts.apply(ts.bracketleft,ts.dot),ts.bracketright)]),ts.dot),ts.apply(ts.plus,ts.dollar)),c=ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.colon,ts.dot),[ts.apply(ts.apply(ts.apply(ts.dot,[ts.apply(ts.apply(ts.bracketleft,ts.dot),ts.bracketleft),ts.bracketright]),ts.dot),ts.apply(ts.percent,ts.dollar)),ts.apply(ts.apply(ts.bracketleft,ts.dot),ts.bracketright)]),ts.dot),[ts.apply(ts.apply(ts.bracketleft,ts.dot),ts.bracketleft),ts.bracketright,ts.apply(ts.apply(ts.bracketleft,ts.dot),ts.bracketright)]),ts.dot),ts.apply(ts.plus,ts.dollar));it(":.(.([.[ ]).%$ [.])([2, 8], [1, 2, 3, 4, 5]) eql [[[1, 2], [3, 4, 5]], 8]",function(){return expect(a([2,8],[1,2,3,4,5])).eql([[[1,2],[3,4,5]],8])}),it("insertAt([2, 8], [1, 2, 3, 4, 5]) eql [1, 2, 8, 3, 4, 5]",function(){return expect(b([2,8],[1,2,3,4,5])).eql([1,2,8,3,4,5])}),it(':.(.([.[ ]).%$ [.]).([.[ ] [.]).+$([2, "alpha"], "abcde") eql "abalphacde"',function(){return expect(c([2,"alpha"],"abcde")).eql("abalphacde")})}),describe("22. range :.([.+ _.-$).^$",function(){var a=ts.apply(ts.apply(ts.apply(ts.apply(ts.colon,ts.dot),[ts.apply(ts.apply(ts.bracketleft,ts.dot),ts.plus),ts.apply(ts.apply(ts.underscore,ts.dot),ts.apply(ts.minus,ts.dollar))]),ts.dot),ts.apply(ts.hat,ts.dollar));it("range(2, 6) eql [2, 3, 4, 5]",function(){return expect(a(2,6)).eql([2,3,4,5])})}),describe('23. rndSelect :,(; {"Math.random"<).%$.[',function(){var a=ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.apply(ts.colon,ts.comma),[ts.semicolon,ts.apply(Math.random,ts.less)]),ts.dot),ts.apply(ts.percent,ts.dollar)),ts.dot),ts.bracketleft);it("rndSelect(3, [1, 2, 3, 4, 5, 6, 7, 8]) ~ [5, 4, 6]",function(){var b=[1,2,3,4,5,6,7,8],c=a(3,b);return expect(3===c.length)&&expect(all(function(a){return contains(a)(b)})(c))&&expect(isUnique(c))})}),describe('25. rndPermu {"Math.random"<',function(){var a=ts.apply(Math.random,ts.less);it("rndPermu([1, 2, 3, 4, 5, 6]) ~ [3, 5, 2, 1, 4, 6]",function(){var b=[1,2,3,4,5,6],c=a(b);return expect(c.length===b.length)&&expect(all(function(a){return contains(a)(b)})(c))&&expect(isUnique(c))})})}),mocha.run(),Object.defineProperty(exports,"__esModule",{value:!0})});